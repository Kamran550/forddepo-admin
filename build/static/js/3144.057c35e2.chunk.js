"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3144],{83144:(e,t,i)=>{i.r(t),i.d(t,{default:()=>k});var l=i(9950),n=i(59233),a=i(23263),o=i(90650),s=i(49348),c=i(28429),d=i(71999),r=i(91854),u=i(74623),v=i(62572),p=i(70030),f=i(61707),g=i(31281),m=i(287),h=i(44414);const k=()=>{const{t:e}=(0,p.B)(),t=(0,c.Zp)(),i=(0,r.wA)(),{activeMenu:k}=(0,r.d4)((e=>e.menu),r.bN),[y,A]=(0,l.useState)(!1),[b]=n.A.useForm(),[j,x]=(0,l.useState)(null),{uuid:w}=(0,c.g)(),{languages:N}=(0,r.d4)((e=>e.formLang),r.bN);(0,l.useEffect)((()=>()=>{const e=b.getFieldsValue(!0);i((0,u.Ok)({activeMenu:k,data:e}))}),[]);function E(e){if(!e)return{};const{translations:t}=e,i=N.map((e=>{var i,l;return{["title[".concat(e.locale,"]")]:null===(i=t.find((t=>t.locale===e.locale)))||void 0===i?void 0:i.title,["description[".concat(e.locale,"]")]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.description}}));return Object.assign({},...i)}return(0,l.useEffect)((()=>{var e;k.refetch&&(e=w,A(!0),v.A.getById(e).then((e=>{var t;let l=e.data;const n={...l,...E(l),image:null!==l&&void 0!==l&&null!==(t=l.img)&&void 0!==t&&t.length?[(a=null===l||void 0===l?void 0:l.img,{name:a,url:a})]:[],keywords:l.keywords.split(","),input:l.input?null===l||void 0===l?void 0:l.input:0};var a;i((0,u.Ok)({activeMenu:k,data:n})),b.setFieldsValue(n)})).finally((()=>{A(!1),i((0,u.km)(k))})))}),[k.refetch]),(0,h.jsx)(a.A,{title:e("recipe.category.clone"),extra:(0,h.jsx)(d.A,{}),children:y?(0,h.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,h.jsx)(o.A,{size:"large",className:"mt-5 pt-5"})}):(0,h.jsx)(m.A,{form:b,handleSubmit:(l,n)=>{var a,o;const c={type:"receipt",title:(0,g.A)(N,l),description:(0,g.A)(N,l,"description"),keywords:null===l||void 0===l||null===(a=l.keywords)||void 0===a?void 0:a.join(","),input:null!==(o=null===l||void 0===l?void 0:l.input)&&void 0!==o?o:0,images:null===n||void 0===n?void 0:n.map((e=>null===e||void 0===e?void 0:e.name)),active:null!==l&&void 0!==l&&l.active?1:0,parent_id:void 0},d="catalog/recipe-categories";v.A.create(c).then((()=>{s.oR.success(e("successfully.updated")),(0,r.vA)((()=>{i((0,u.EK)({...k,nextUrl:d})),i((0,f.rn)({}))})),t("/".concat(d))})).catch((e=>x(e.response.data.params)))},error:j})})}}}]);