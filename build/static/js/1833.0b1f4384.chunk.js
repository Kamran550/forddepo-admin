"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1833],{1833:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var l=a(9950),c=a(59233),i=a(23263),s=a(90650),n=a(49348),r=a(28429),o=a(71999),d=a(91854),u=a(74623),v=a(33774),f=a(70030),g=a(42362),h=a(31281),p=a(6728),m=a(44414);const b=()=>{const{t:e}=(0,f.B)(),t=(0,r.Zp)(),a=(0,d.wA)(),{activeMenu:b}=(0,d.d4)((e=>e.menu),d.bN),[A,y]=(0,l.useState)(!1),[x]=c.A.useForm(),{id:j}=(0,r.g)(),{params:k}=(0,d.d4)((e=>e.career),d.bN),{languages:N}=(0,d.d4)((e=>e.formLang),d.bN);function _(e){if(!e)return{};const{translations:t}=e,a=N.map((e=>{var a,l,c;return{["title[".concat(e.locale,"]")]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.title,["description[".concat(e.locale,"]")]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.description,["address[".concat(e.locale,"]")]:null===(c=t.find((t=>t.locale===e.locale)))||void 0===c?void 0:c.address}}));return Object.assign({},...a)}(0,l.useEffect)((()=>()=>{const e=x.getFieldsValue(!0);a((0,u.Ok)({activeMenu:b,data:e}))}),[]);return(0,l.useEffect)((()=>{var e;b.refetch&&(e=j,y(!0),v.A.getById(e).then((e=>{var t,l,c;let i=e.data;const s={...i,..._(i),category_id:{label:null===i||void 0===i||null===(t=i.category)||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title,value:null===i||void 0===i||null===(c=i.category)||void 0===c?void 0:c.id}};x.setFieldsValue(s),a((0,u.Ok)({activeMenu:b,data:s}))})).finally((()=>{y(!1),a((0,u.km)(b))})))}),[b.refetch]),(0,m.jsx)(i.A,{title:e("clone.career"),extra:(0,m.jsx)(o.A,{}),children:A?(0,m.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,m.jsx)(s.A,{size:"large",className:"mt-5 pt-5"})}):(0,m.jsx)(p.A,{form:x,handleSubmit:l=>{const c={...l,title:(0,h.A)(N,l,"title"),description:(0,h.A)(N,l,"description"),address:(0,h.A)(N,l,"address"),active:l.active?1:0,category_id:l.category_id.value},i="catalog/career";return v.A.create(c).then((()=>{n.oR.success(e("successfully.updated")),(0,d.vA)((()=>{a((0,u.EK)({...b,nextUrl:i})),a((0,g.R)(k))})),t("/".concat(i))})).catch((e=>console.error(e.response.data.params)))}})})}}}]);