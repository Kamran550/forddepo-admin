"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[6201],{28645:(e,t,n)=>{n.d(t,{A:()=>p});var l=n(9950),i=n(66362),a=n(69216),d=n(80737),s=n(25933),o=n(57811),r=n(81541),c=n(48538),u=n(89323),v=n(70030),h=n(44414);const{Text:x}=i.A,p=e=>{let{columns:t=[],setColumns:n,style:i,size:p="",iconOnly:A}=e;const{t:m}=(0,v.B)(),[f,g]=(0,l.useState)(!1),j=(0,h.jsx)(a.A,{children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,h.jsx)(a.A.Item,{children:(0,h.jsxs)(d.A,{className:"d-flex justify-content-between",children:[(0,h.jsx)(x,{children:e.title}),(0,h.jsx)(s.A,{defaultChecked:!0,onClick:()=>function(e){const l=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(l)}(e),disabled:1===l})]})},e+l)))});return(0,h.jsx)(o.A,{overlay:j,trigger:["click"],onVisibleChange:e=>{g(e)},visible:f,children:(0,h.jsx)(r.A,{title:m("change.columns"),children:(0,h.jsx)(c.A,{style:{...i},size:p,icon:(0,h.jsx)(u.A,{}),children:A?null:m("Columns")})})})}},8297:(e,t,n)=>{n.d(t,{A:()=>o});var l=n(9950),i=n(55902),a=n(41397),d=n(60767),s=n(44414);function o(e){let{handleChange:t,defaultValue:n,resetSearch:o,...r}=e;const[c,u]=(0,l.useState)(n),v=(0,l.useMemo)((()=>(0,a.debounce)((e=>{t(e)}),800)),[t]);return(0,l.useEffect)((()=>{u(n)}),[o,n]),(0,s.jsx)(i.A,{value:c,onChange:e=>{u(e.target.value),v(e.target.value)},prefix:(0,s.jsx)(d.A,{}),...r})}},53774:(e,t,n)=>{n.d(t,{A:()=>i});var l=n(83291);function i(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;const d=null===(e=l.M.getState())||void 0===e||null===(t=e.currency)||void 0===t?void 0:t.defaultCurrency,s=Number(n).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),o=i||(null===d||void 0===d?void 0:d.symbol)||"$";return"after"===(a||(null===d||void 0===d?void 0:d.position)||"before")?"".concat(s," ").concat(o):"".concat(o," ").concat(s)}},12521:(e,t,n)=>{n.d(t,{A:()=>x});var l=n(20380),i=n(48538),a=n(90650),d=n(91524),s=n(72243),o=n(53774),r=n(9950),c=n(70030),u=n(3948),v=n(91854),h=n(44414);const x=e=>{var t,n;let{id:x,onClose:p}=e;const{t:A}=(0,c.B)(),{defaultCurrency:m}=(0,v.d4)((e=>e.currency),v.bN),[f,g]=(0,r.useState)(!1),[j,b]=(0,r.useState)(null),y=(0,r.useCallback)((()=>{g(!0),x&&u.A.getById(x).then((e=>{b(e.data)})).finally((()=>{g(!1)}))}),[x]);return(0,r.useEffect)((()=>{y()}),[x,y]),(0,h.jsx)(l.A,{visible:!!x,title:A("ad.detail"),onCancel:p,footer:[(0,h.jsx)(i.A,{onClick:p,children:A("close")})],children:f?(0,h.jsx)("div",{className:"flex justify-content-center my-6",children:(0,h.jsx)(a.A,{})}):(0,h.jsxs)(d.A,{bordered:!0,children:[(0,h.jsx)(d.A.Item,{span:3,label:A("title"),children:null===j||void 0===j||null===(t=j.translation)||void 0===t?void 0:t.title}),(0,h.jsx)(d.A.Item,{span:3,label:A("price"),children:(0,o.A)(null===j||void 0===j?void 0:j.price,null===m||void 0===m?void 0:m.symbol,null===m||void 0===m?void 0:m.position)}),(0,h.jsxs)(d.A.Item,{span:3,label:A("time"),children:[null===j||void 0===j?void 0:j.time," ",null===j||void 0===j?void 0:j.time_type]}),(0,h.jsx)(d.A.Item,{span:3,label:A("banner"),children:(0,h.jsx)(s.A,{width:300,src:null===j||void 0===j||null===(n=j.banner)||void 0===n?void 0:n.img})})]})})}},16201:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var l=n(9950),i=n(80737),a=n(48538),d=n(12916),s=n(23263),o=n(12203),r=n(4486),c=n(91854),u=n(70030),v=n(8297),h=n(28645),x=n(74623),p=n(88986),A=n(53774),m=n(3948),f=n(49348),g=n(17491),j=n(28016),b=n(12521),y=n(59051),_=n.n(y),w=n(44414);function C(){const{t:e}=(0,u.B)(),t=(0,c.wA)(),[n,y]=(0,l.useState)(null),{activeMenu:C}=(0,c.d4)((e=>e.menu),c.bN),{shopAdList:z,loading:I,meta:k}=(0,c.d4)((e=>e.advert),c.bN),{defaultCurrency:S}=(0,c.d4)((e=>e.currency),c.bN),[V,H]=(0,l.useState)(""),[N,M]=(0,l.useState)(!1),[B,E]=(0,l.useState)([{title:e("id"),dataIndex:"id",is_show:!0,sorter:(e,t)=>e.id-t.id},{title:e("ad.package"),dataIndex:"ads_package",is_show:!0,render:e=>{var t;return(0,w.jsxs)(i.A,{children:[(0,w.jsx)("span",{children:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title}),(0,w.jsx)(a.A,{icon:(0,w.jsx)(j.A,{}),onClick:()=>y(e.id)})]})}},{title:e("price"),dataIndex:"price",is_show:!0,render:(e,t)=>{var n;return(0,A.A)(null===t||void 0===t||null===(n=t.ads_package)||void 0===n?void 0:n.price,null===S||void 0===S?void 0:S.symbol,null===S||void 0===S?void 0:S.position)}},{title:e("position.page"),dataIndex:"position_page",is_show:!0},{title:e("expire_at"),dataIndex:"expire_at",is_show:!0,render:e=>_()(e).format("YYYY-MM-DD hh:mm")},{title:e("status"),dataIndex:"status",is_show:!0,render:t=>(0,w.jsx)("div",{children:"new"===t?(0,w.jsx)(d.A,{color:"blue",children:e(t)}):"canceled"===t?(0,w.jsx)(d.A,{color:"error",children:e(t)}):(0,w.jsx)(d.A,{color:"cyan",children:e(t)})})},{title:e("transaction"),dataIndex:"transaction",is_show:!0,render:t=>(0,w.jsx)("div",{children:"paid"===(null===t||void 0===t?void 0:t.status)?(0,w.jsx)(d.A,{color:"cyan",children:e(null===t||void 0===t?void 0:t.status)}):"canceled"===(null===t||void 0===t?void 0:t.status)||"rejected"===(null===t||void 0===t?void 0:t.status)?(0,w.jsx)(d.A,{color:"error",children:e(null===t||void 0===t?void 0:t.status)}):(0,w.jsx)(d.A,{color:"orange",children:e("not.paid")})})},{title:e("options"),dataIndex:"options",is_show:!0,render:(n,l)=>{var d;return(0,w.jsx)(i.A,{children:(0,w.jsx)(a.A,{onClick:()=>(n=>{M(!0),g.A.getAll().then((l=>{const i=l.data.find((e=>"wallet"===e.tag));if(!i)return f.oR.error(e("request.admin.to.enable.payment.from.wallet")),void M(!1);m.A.purchase(n,{payment_sys_id:null===i||void 0===i?void 0:i.id}).then((()=>{f.oR.success(e("purchased.succesfully"))})).finally((()=>{M(!1),t((0,r.KZ)(K))}))})).catch((()=>{M(!1)}))})(l.id),disabled:l.deleted_at||"paid"===(null===(d=l.transaction)||void 0===d?void 0:d.status),loading:N,children:e("purchase")})})}}]),K={perPage:10,page:1,sort:"desc",column:"created_at"};(0,l.useEffect)((()=>{C.refetch&&(t((0,r.KZ)(K)),t((0,x.km)(C)))}),[C.refetch]),(0,p.A)((()=>{const e=C.data,n={deleted_at:"deleted_at"===(null===e||void 0===e?void 0:e.role)?null===e||void 0===e?void 0:e.role:null,search:V};t((0,r.KZ)(n))}),[C.data,V]);return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(s.A,{className:"p-o",children:(0,w.jsxs)("div",{className:"flex justify-content-between",children:[(0,w.jsx)(v.A,{style:{maxWidth:"200px"},handleChange:e=>H(e),placeholder:e("search")}),(0,w.jsx)("div",{className:"flex gap-3",children:(0,w.jsx)(h.A,{columns:B,setColumns:E})})]})}),(0,w.jsx)(s.A,{children:(0,w.jsx)(o.A,{scroll:{x:!0},dataSource:z,columns:null===B||void 0===B?void 0:B.filter((e=>e.is_show)),rowKey:e=>e.id,loading:I||N,pagination:{pageSize:k.per_page,page:k.current_page,total:k.total},onChange:e=>{const{pageSize:n,current:l}=e;t((0,r.KZ)({perPage:n,page:l}))}})}),(0,w.jsx)(b.A,{id:n,onClose:()=>y(null)})]})}},28016:(e,t,n)=>{n.d(t,{A:()=>o});var l=n(89379),i=n(9950);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M396 512a112 112 0 10224 0 112 112 0 10-224 0zm546.2-25.8C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM508 688c-97.2 0-176-78.8-176-176s78.8-176 176-176 176 78.8 176 176-78.8 176-176 176z"}}]},name:"eye",theme:"filled"};var d=n(25085),s=function(e,t){return i.createElement(d.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:a}))};const o=i.forwardRef(s)},89323:(e,t,n)=>{n.d(t,{A:()=>o});var l=n(89379),i=n(9950);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var d=n(25085),s=function(e,t){return i.createElement(d.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:a}))};const o=i.forwardRef(s)}}]);