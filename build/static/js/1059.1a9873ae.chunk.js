(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1059],{502:(i,l,e)=>{"use strict";e.r(l),e.d(l,{default:()=>w});var n=e(80737),d=e(12916),o=e(23263),t=e(48538),s=e(12203),r=e(40895),a=e(9950),c=e(70030),v=e(28429),u=e(23758),h=e(91854),x=e(59051),p=e.n(x),j=e(53774),y=e(37279),m=e(45418),g=e(65820),f=e(88986),A=e(81446),_=e(74623),b=e(44414);const k=i=>{var l,e,n;return((null!==(l=null===i||void 0===i?void 0:i.origin_price)&&void 0!==l?l:0)+(null===i||void 0===i||null===(e=i.addons)||void 0===e?void 0:e.reduce(((i,l)=>{var e;return i+(null!==(e=null===l||void 0===l?void 0:l.origin_price)&&void 0!==e?e:0)}),0)))/(null!==(n=null===i||void 0===i?void 0:i.quantity)&&void 0!==n?n:1)},N=i=>{var l,e;return(null!==(l=null===i||void 0===i?void 0:i.total_price)&&void 0!==l?l:0)+(null===i||void 0===i||null===(e=i.addons)||void 0===e?void 0:e.reduce(((i,l)=>{var e;return i+(null!==(e=null===l||void 0===l?void 0:l.origin_price)&&void 0!==e?e:0)}),0))},w=()=>{var i,l,e,x,w,B,I,F,Y,C;const{t:M}=(0,c.B)(),{id:q}=(0,v.g)(),S=(0,g.s)(),D=(0,a.useRef)(),P=(0,v.Zp)(),E=(0,h.wA)(),{activeMenu:R}=(0,h.d4)((i=>i.menu),h.bN),{settings:Z}=(0,h.d4)((i=>i.globalSettings)),{defaultCurrency:$}=(0,h.d4)((i=>i.currency),h.bN),[z,H]=(0,a.useState)(!1),[K,Q]=(0,a.useState)(null),T=[{title:M("id"),dataIndex:"stock",key:"stock",render:i=>null===i||void 0===i?void 0:i.id},{title:M("product"),dataIndex:"stock",key:"stock",render:(i,l)=>{var e,o,t,s,r;return(0,b.jsxs)(n.A,{wrap:!0,children:[(0,b.jsx)("span",{children:(null===i||void 0===i||null===(e=i.product)||void 0===e||null===(o=e.translation)||void 0===o?void 0:o.title)||(null===i||void 0===i||null===(t=i.product)||void 0===t?void 0:t.id)||M("N/A")}),(0,b.jsx)("span",{children:null===i||void 0===i||null===(s=i.extras)||void 0===s?void 0:s.map((i=>(0,b.jsx)(d.A,{children:null===i||void 0===i?void 0:i.value},null===i||void 0===i?void 0:i.id)))}),null===l||void 0===l||null===(r=l.addons)||void 0===r?void 0:r.map((i=>{var l,e,n,o;return(0,b.jsx)(d.A,{children:"".concat(null===i||void 0===i||null===(l=i.stock)||void 0===l||null===(e=l.product)||void 0===e||null===(n=e.translation)||void 0===n?void 0:n.title," x ").concat(null!==(o=null===i||void 0===i?void 0:i.quantity)&&void 0!==o?o:1)},null===i||void 0===i?void 0:i.id)}))]})}},{title:M("price"),dataIndex:"origin_price",key:"origin_price",render:(i,l)=>(0,b.jsx)("p",{style:{width:"max-content"},children:(0,j.A)(k(l),null===$||void 0===$?void 0:$.symbol)})},{title:M("quantity"),dataIndex:"quantity",key:"quantity",render:(i,l)=>{var e,n,d,o;return(0,b.jsx)("p",{style:{width:"max-content"},children:"".concat(i," ").concat(null===l||void 0===l||null===(e=l.stock)||void 0===e||null===(n=e.product)||void 0===n||null===(d=n.unit)||void 0===d||null===(o=d.translation)||void 0===o?void 0:o.title)})}},{title:M("tax"),dataIndex:"tax",key:"tax",render:i=>(0,b.jsx)("p",{style:{width:"max-content"},children:(0,j.A)(i,null===$||void 0===$?void 0:$.symbol)})},{title:M("total.price"),dataIndex:"total_price",key:"total_price",render:(i,l)=>(0,b.jsx)("p",{style:{width:"max-content"},children:(0,j.A)(N(l),null===$||void 0===$?void 0:$.symbol)})}];function W(){H(!0),u.A.getById(q).then((i=>{let{data:l}=i;Q(l)})).finally((()=>{H(!1),E((0,_.km)(R))}))}(0,a.useEffect)((()=>{W()}),[]),(0,f.A)((()=>{R.refetch&&W()}),[R.refetch]),(0,f.A)((()=>{z||"true"!==S.get("print")||G()}),[q,S]);const G=(0,m.useReactToPrint)({content:()=>D.current,onAfterPrint:()=>{"true"===S.get("print")&&S.set("print",!1)}});return(0,b.jsx)(o.A,{title:M("invoice"),extra:(0,b.jsxs)(n.A,{wrap:!0,children:[(0,b.jsx)(t.A,{type:"primary",onClick:()=>{null!==S&&void 0!==S&&S.get("print")?P(-2):P(-1)},children:(0,b.jsx)("span",{className:"ml-1",children:M("back")})}),(0,b.jsxs)(t.A,{type:"primary",onClick:()=>G(),children:[(0,b.jsx)(y.A,{type:"printer"}),(0,b.jsx)("span",{className:"ml-1",children:M("print")})]})]}),children:z?(0,b.jsx)(A.A,{}):(0,b.jsxs)("div",{className:"container_check",ref:D,children:[(0,b.jsxs)("header",{className:"check_header",children:[(0,b.jsx)("div",{style:{objectFit:"contain",maxWidth:200,maxHeight:200,overflow:"hidden"},children:(0,b.jsx)("img",{src:null===Z||void 0===Z?void 0:Z.favicon,alt:"img",className:"check_icon overflow-hidden rounded",width:200,height:200})}),(0,b.jsx)("h1",{children:"Invoice"}),(0,b.jsxs)("span",{className:"check_companyInfo",children:[(0,b.jsx)("h1",{children:null===Z||void 0===Z?void 0:Z.title}),(0,b.jsx)("h5",{children:null===Z||void 0===Z?void 0:Z.address})]})]}),(0,b.jsxs)("main",{children:[(0,b.jsxs)("span",{children:[(0,b.jsxs)("h4",{children:[M("order.id"),": ",null===K||void 0===K?void 0:K.id]}),!(null===K||void 0===K||!K.created_at)&&(0,b.jsx)("p",{children:"".concat(M("created.at"),": ").concat(p()(null===K||void 0===K?void 0:K.created_at).format("YYYY-MM-DD"))}),(0,b.jsx)("address",{children:(0,b.jsxs)("p",{className:"d-flex flex-column",style:{gap:"10px"},children:[(0,b.jsxs)("span",{children:[M("delivery.type"),": ",null===K||void 0===K?void 0:K.delivery_type]}),!(null===K||void 0===K||!K.table)&&(0,b.jsxs)("span",{children:[M("table"),": ",(null===K||void 0===K||null===(i=K.table)||void 0===i?void 0:i.name)||M("N/A")]}),!(null===K||void 0===K||null===(l=K.address)||void 0===l||!l.address)&&(0,b.jsxs)("span",{children:[M("delivery.address"),": ",null===K||void 0===K||null===(e=K.address)||void 0===e?void 0:e.address]}),!(null===K||void 0===K||!K.delivery_date_time)&&(0,b.jsx)("span",{children:"".concat(M("delivery.date"),": ").concat((null===K||void 0===K?void 0:K.delivery_date)||"","\n                        ").concat((null===K||void 0===K?void 0:K.delivery_time)||"")}),(0,b.jsxs)("span",{children:[M("delivery.fee"),": ",(0,j.A)(null===K||void 0===K?void 0:K.delivery_fee)]}),(0,b.jsxs)("span",{children:[M("tax"),": ",(0,j.A)(null===K||void 0===K?void 0:K.tax)]}),(0,b.jsxs)("span",{children:[M("status"),": ",(0,b.jsx)(d.A,{color:"green",children:null===K||void 0===K?void 0:K.status})]}),(0,b.jsxs)("span",{children:[M("otp"),": ",null!==(x=null===K||void 0===K?void 0:K.otp)&&void 0!==x?x:M("N/A")]})]})})]}),(0,b.jsxs)("span",{children:[(0,b.jsxs)("h3",{className:"shop_data",children:[M("shop.id"),": #",null===K||void 0===K||null===(w=K.shop)||void 0===w?void 0:w.id]}),(0,b.jsxs)("span",{children:[M("title"),": ",null===K||void 0===K||null===(B=K.shop)||void 0===B||null===(I=B.translation)||void 0===I?void 0:I.title]}),(0,b.jsx)("br",{}),(0,b.jsxs)("span",{children:[M("address"),": ",null===K||void 0===K||null===(F=K.shop)||void 0===F||null===(Y=F.translation)||void 0===Y?void 0:Y.address]}),(0,b.jsx)("br",{}),(0,b.jsxs)("span",{children:[M("phone"),": ",null===K||void 0===K||null===(C=K.shop)||void 0===C?void 0:C.phone]})]})]}),(0,b.jsx)(s.A,{scroll:{x:!0},columns:T,dataSource:(null===K||void 0===K?void 0:K.details)||[],loading:z,rowKey:i=>i.id,pagination:!1,className:"check_table",bordered:!0}),(0,b.jsxs)("footer",{children:[(0,b.jsx)("span",{}),(0,b.jsxs)("span",{children:[(0,b.jsx)("span",{children:M("origin.price")}),(0,b.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.A)(null===K||void 0===K?void 0:K.origin_price,null===$||void 0===$?void 0:$.symbol)}),(null===K||void 0===K?void 0:K.delivery_fee)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:M("delivery.fee")}),(0,b.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.A)(null===K||void 0===K?void 0:K.delivery_fee,null===$||void 0===$?void 0:$.symbol)})]}),(null===K||void 0===K?void 0:K.service_fee)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:M("service.fee")}),(0,b.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.A)(null===K||void 0===K?void 0:K.service_fee,null===$||void 0===$?void 0:$.symbol)})]}),(null===K||void 0===K?void 0:K.tax)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:M("tax")}),(0,b.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.A)(null===K||void 0===K?void 0:K.tax,null===$||void 0===$?void 0:$.symbol)})]}),!(null===K||void 0===K||!K.tips)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:M("tips")}),(0,b.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.A)(null===K||void 0===K?void 0:K.tips,null===$||void 0===$?void 0:$.symbol)})]}),!(null===K||void 0===K||!K.coupon_price)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:M("coupon")}),(0,b.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.A)(null===K||void 0===K?void 0:K.coupon_price,null===$||void 0===$?void 0:$.symbol)})]}),(null===K||void 0===K?void 0:K.total_discount)&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{children:M("total.discount")}),(0,b.jsx)("h3",{style:{marginBottom:"10px"},children:(0,j.A)(null===K||void 0===K?void 0:K.total_discount,null===$||void 0===$?void 0:$.symbol)})]}),(0,b.jsx)(r.A,{}),(0,b.jsx)("span",{children:M("total.price")}),(0,b.jsx)("h1",{children:(0,j.A)(null===K||void 0===K?void 0:K.total_price,null===$||void 0===$?void 0:$.symbol)})]})]}),(0,b.jsxs)("section",{className:"text-center",children:["\xa9 ",p()(new Date).format("YYYY")," ",null===Z||void 0===Z?void 0:Z.title,"."," ",M("all.rights.reserved")]})]})})}},53774:(i,l,e)=>{"use strict";e.d(l,{A:()=>d});var n=e(83291);function d(){var i,l;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,d=arguments.length>1?arguments[1]:void 0,o=arguments.length>2?arguments[2]:void 0;const t=null===(i=n.M.getState())||void 0===i||null===(l=i.currency)||void 0===l?void 0:l.defaultCurrency,s=Number(e).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),r=d||(null===t||void 0===t?void 0:t.symbol)||"$";return"after"===(o||(null===t||void 0===t?void 0:t.position)||"before")?"".concat(s," ").concat(r):"".concat(r," ").concat(s)}},65820:(i,l,e)=>{"use strict";e.d(l,{s:()=>t});var n=e(28429),d=e(21215),o=e.n(d);const t=()=>{const i=(0,n.Zp)(),l=(0,n.zy)(),e=o().parse(l.search,{ignoreQueryPrefix:!0});return{values:e,set:(l,n)=>i({search:o().stringify({...e,[l]:n})}),reset:l=>{const n={...e};n[l]&&delete n[l],i({search:o().stringify({...n})})},clear:()=>i({search:o().stringify({})}),merge:l=>i({search:o().stringify({...e,...l})}),get:i=>e[i],setMultiple:l=>{const n={...e,...l};i({search:o().stringify(n)})},resetMultiple:l=>{const n={...e};l.forEach((i=>{n[i]&&delete n[i]})),i({search:o().stringify(n)})}}}},42634:()=>{}}]);