(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3846],{35116:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(9950);var l=n(48538),a=n(44070),s=n(49348),i=n(70030),o=n(13311),d=n(44414);function r(e){let{size:t="",onClick:n,type:r="default",...c}=e;const{t:u}=(0,i.B)(),{isDemo:v}=(0,o.A)();return(0,d.jsx)(l.A,{size:t,icon:(0,d.jsx)(a.A,{}),onClick:e=>{v?s.oR.warning(u("cannot.work.demo")):n(e)},type:r,...c})}},69091:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});n(9950);var l=n(87094),a=n(41988),s=n(91854),i=n(70030),o=n(74704),d=n(89627),r=n(44414);const c=e=>{let{data:t}=e;const{t:n}=(0,i.B)(),{defaultCurrency:c}=(0,s.d4)((e=>e.currency),s.bN);return(0,r.jsxs)(l.A,{gutter:16,className:"mt-3",children:[(0,r.jsx)(a.A,{flex:"0 0 16.6%",children:(0,r.jsx)(o.A,{title:n("all.orders"),value:null===t||void 0===t?void 0:t.orders_count})}),(0,r.jsx)(a.A,{flex:"0 0 16.6%",children:(0,r.jsx)(o.A,{title:n("ready.orders"),value:null===t||void 0===t?void 0:t.ready_orders_count})}),(0,r.jsx)(a.A,{flex:"0 0 16.6%",children:(0,r.jsx)(o.A,{title:n("on.a.way.orders"),value:null===t||void 0===t?void 0:t.on_a_way_orders_count})}),(0,r.jsx)(a.A,{flex:"0 0 16.6%",children:(0,r.jsx)(o.A,{title:n("cancelled.orders"),value:null===t||void 0===t?void 0:t.cancel_orders_count})}),(0,r.jsx)(a.A,{flex:"0 0 16.6%",children:(0,r.jsx)(o.A,{title:n("delivered.orders"),value:null===t||void 0===t?void 0:t.delivered_orders_count})}),(0,r.jsx)(a.A,{flex:"0 0 16.6%",children:(0,r.jsx)(o.A,{title:n("total.price"),value:(0,d.r)(null===t||void 0===t?void 0:t.total_price,null===c||void 0===c?void 0:c.symbol)})})]})}},28645:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var l=n(9950),a=n(66362),s=n(69216),i=n(80737),o=n(25933),d=n(57811),r=n(81541),c=n(48538),u=n(89323),v=n(70030),h=n(44414);const{Text:m}=a.A,x=e=>{let{columns:t=[],setColumns:n,style:a,size:x="",iconOnly:f}=e;const{t:p}=(0,v.B)(),[A,y]=(0,l.useState)(!1),j=(0,h.jsx)(s.A,{children:null===t||void 0===t?void 0:t.map(((e,l)=>(0,h.jsx)(s.A.Item,{children:(0,h.jsxs)(i.A,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(o.A,{defaultChecked:!0,onClick:()=>function(e){const l=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(l)}(e),disabled:1===l})]})},e+l)))});return(0,h.jsx)(d.A,{overlay:j,trigger:["click"],onVisibleChange:e=>{y(e)},visible:A,children:(0,h.jsx)(r.A,{title:p("change.columns"),children:(0,h.jsx)(c.A,{style:{...a},size:x,icon:(0,h.jsx)(u.A,{}),children:f?null:p("Columns")})})})}},21777:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});n(9950);var l=n(20380),a=n(32312),s=n(48538),i=n(70030),o=n(44414);const d=e=>{let{open:t,handleCancel:n,text:d,click:r,loading:c,subTitle:u}=e;const{t:v}=(0,i.B)();return(0,o.jsxs)(l.A,{closable:!1,visible:t,footer:null,centered:!0,children:[(0,o.jsx)(a.Ay,{status:"warning",title:d,subTitle:u}),(0,o.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,o.jsx)(s.A,{type:"primary",className:"mr-2",onClick:r,loading:c,children:v("yes")}),(0,o.jsx)(s.A,{onClick:()=>n(),children:v("no")})]})]})}},8168:(e,t,n)=>{"use strict";function l(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{A:()=>l})},89627:(e,t,n)=>{"use strict";function l(e,t){var n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find((function(t){return e>=t.value}));return n?"$"+(e/n.value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n.symbol:"0"}n.d(t,{r:()=>l})},74704:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});n(9950);var l=n(23263),a=n(44414);function s(e){let{title:t="Orders",value:n=0,color:s="grey",onClick:i}=e;return(0,a.jsx)(l.A,{className:"statistics-card",hoverable:!!i,onClick:i,children:(0,a.jsxs)("div",{className:"card-wrapper",children:[(0,a.jsx)("div",{className:"space"}),(0,a.jsx)("div",{className:"content",children:(0,a.jsx)("h1",{className:"number",children:n})}),(0,a.jsx)("span",{className:"highlighter ".concat(s)}),t&&(0,a.jsx)("h4",{className:"title",children:t})]})})}},40471:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>J});var l=n(9950),a=n(5713),s=n(54909),i=n(12916),o=n(48538),d=n(80737),r=n(23263),c=n(12203),u=n(28429),v=n(24513),h=n(12678),m=n(44070),x=n(98114),f=n(89379);const p={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"};var A=n(25085),y=function(e,t){return l.createElement(A.A,(0,f.A)((0,f.A)({},e),{},{ref:t,icon:p}))};const j=l.forwardRef(y);var g=n(13700),b=n(91854),w=n(74623),_=n(70030),k=n(47992),C=n(88986),S=n(53177),z=n(8168),V=n(8297),H=n(53774),M=n(56592),N=n(23283),R=n(28645),B=n(39174),T=n(38635),I=n(26714),D=n(49348),Y=n(35116),O=n(23758),U=n(55386),L=n(76083),E=n(63620),G=n(81446),P=n(69091),K=n(64272),$=n(59051),W=n.n($),F=n(21777),X=n(44414);const{RangePicker:q}=a.A,{TabPane:Z}=s.A;function J(){var e,t,n,a;const f=(0,b.wA)(),p=(0,u.Zp)(),{t:A}=(0,_.B)(),{defaultCurrency:y}=(0,b.d4)((e=>e.currency),b.bN),[$,J]=(0,l.useState)(),[Q,ee]=(0,l.useState)(null),[te,ne]=(0,l.useState)(null),[le,ae]=(0,l.useState)(null),[se,ie]=(0,l.useState)(null),oe=[{id:7,name:"all"},{id:8,name:"un_assigned_order"},{id:3,name:"ready"},{id:4,name:"on_a_way"},{id:5,name:"delivered"},{id:6,name:"canceled"}],[de,re]=(0,l.useState)([{title:A("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:A("client"),is_show:!0,dataIndex:"user",key:"user",render:e=>(0,X.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",null===e||void 0===e?void 0:e.lastname]})},{title:A("number.of.products"),is_show:!0,dataIndex:"order_details_count",key:"order_details_count",render:e=>(0,X.jsxs)("div",{className:"text-lowercase",children:[e||0," ",A("products")]})},{title:A("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,X.jsxs)("div",{children:["new"===e?(0,X.jsx)(i.A,{color:"blue",children:A(e)}):"canceled"===e?(0,X.jsx)(i.A,{color:"error",children:A(e)}):(0,X.jsx)(i.A,{color:"cyan",children:A(e)}),"delivered"!==e&&"canceled"!==e?(0,X.jsx)(v.A,{onClick:()=>ee(t)}):""]})},{title:A("deliveryman"),is_show:!0,dataIndex:"deliveryman",key:"deliveryman",render:(e,t)=>(0,X.jsx)("div",{children:"ready"===t.status&&"pickup"!==t.delivery_type?(0,X.jsx)(o.A,{type:"link",onClick:()=>ie(t),children:(0,X.jsxs)(d.A,{children:[e?"".concat(e.firstname," ").concat(e.lastname):A("add.deliveryman"),(0,X.jsx)(v.A,{})]})}):(0,X.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",null===e||void 0===e?void 0:e.lastname]})})},{title:A("amount"),is_show:!0,dataIndex:"total_price",key:"total_price",render:e=>(0,H.A)(e,y.symbol)},{title:A("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var t;return A(null===e||void 0===e||null===(t=e.payment_system)||void 0===t?void 0:t.tag)||"-"}},{title:A("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at"},{title:A("options"),is_show:!0,key:"options",render:(e,t)=>(0,X.jsxs)(d.A,{children:[(0,X.jsx)(o.A,{icon:(0,X.jsx)(B.kMs,{}),onClick:()=>ne(t.id)}),(0,X.jsx)(o.A,{icon:(0,X.jsx)(h.A,{}),onClick:()=>(e=>{f((0,w.X4)({url:"order/details/".concat(e.id),id:"order_details",name:A("order.details")})),p("/order/details/".concat(e.id))})(t)}),(0,X.jsx)(Y.A,{icon:(0,X.jsx)(m.A,{}),onClick:()=>{Ae([t.id]),ce(!0),je(!0)}}),(0,X.jsx)(o.A,{icon:(0,X.jsx)(x.A,{}),onClick:()=>ae(t.id)})]})}]),{setIsModalVisible:ce}=(0,l.useContext)(U.o),[ue,ve]=(0,l.useState)(!1),{activeMenu:he}=(0,b.d4)((e=>e.menu),b.bN),[me,xe]=(0,l.useState)("all"),fe=(null===(e=he.data)||void 0===e?void 0:e.role)||me,[pe,Ae]=(0,l.useState)(null),[ye,je]=(0,l.useState)(null),[ge,be]=(0,l.useState)(!1),{orders:we,meta:_e,loading:ke,params:Ce,statistic:Se}=(0,b.d4)((e=>e.orders),b.bN),ze=null===he||void 0===he?void 0:he.data;(0,C.A)((()=>{var e;const t={search:null===ze||void 0===ze?void 0:ze.search,sort:null===ze||void 0===ze?void 0:ze.sort,column:null===ze||void 0===ze?void 0:ze.column,perPage:null===ze||void 0===ze?void 0:ze.perPage,page:null===ze||void 0===ze?void 0:ze.page,deliveryman:null===ze||void 0===ze||null===(e=ze.deliveryman)||void 0===e?void 0:e.value,date_from:null===ze||void 0===ze?void 0:ze.date_from,date_to:null===ze||void 0===ze?void 0:ze.date_to,status:"un_assigned_order"===(null===ze||void 0===ze?void 0:ze.status)||null===ze||void 0===ze?void 0:ze.status,"isset-deliveryman":"un_assigned_order"===(null===ze||void 0===ze?void 0:ze.status)?1:0};f((0,S.Gb)(t))}),[null===he||void 0===he?void 0:he.data]);const Ve=e=>{const t=he.data;f((0,w.Ok)({activeMenu:he,data:{...t,...e}}))},He=()=>{ee(null),ie(null),ne(null),ae(null)};(0,l.useEffect)((()=>{if(null!==he&&void 0!==he&&he.refetch){const e={status:null===ze||void 0===ze?void 0:ze.status,page:null===ze||void 0===ze?void 0:ze.page,perPage:10,type:"delivery"};f((0,S.Gb)(e)),f((0,w.km)(he))}}),[null===he||void 0===he?void 0:he.refetch]);const Me={selectedRowKeys:pe,onChange:e=>{Ae(e)}};return(0,X.jsxs)("div",{children:[(0,X.jsx)("div",{children:ke?(0,X.jsx)(G.A,{}):(0,X.jsx)(P.A,{data:Se,orders:we})}),(0,X.jsx)(r.A,{className:"p-0",children:(0,X.jsxs)(d.A,{wrap:!0,size:[12,20],children:[(0,X.jsx)(V.A,{placeholder:A("search"),handleChange:e=>Ve({search:e}),defaultValue:null===(t=he.data)||void 0===t?void 0:t.search,resetSearch:!(null!==(n=he.data)&&void 0!==n&&n.search),style:{minWidth:300}}),(0,X.jsx)(q,{format:"YYYY-MM-DD",onChange:e=>{return t=e,void f((0,w.Ok)({activeMenu:he,data:{...ze,date_from:t?W()(null===t||void 0===t?void 0:t[0]).format("YYYY-MM-DD").toString():void 0,date_to:t?W()(null===t||void 0===t?void 0:t[1]).format("YYYY-MM-DD").toString():void 0}}));var t}}),(0,X.jsx)(k.G,{className:"w-100",debounceTimeout:500,placeholder:A("select.deliveryman"),fetchOptions:e=>{const t={search:e};return K.A.getAll(t).then((e=>e.data.map((e=>({label:e.firstname+" "+e.lastname,value:e.id})))))},allowClear:!0,onChange:e=>Ve({deliveryman:e}),value:null===(a=he.data)||void 0===a?void 0:a.deliveryman}),(0,X.jsxs)(o.A,{onClick:()=>{ve(!0),O.A.export().then((e=>{const t=E.bb+e.data.file_name;window.location.href=t})).finally((()=>ve(!1)))},loading:ue,children:[(0,X.jsx)(j,{}),A("export")]}),(0,X.jsx)(Y.A,{size:"",onClick:()=>{null===pe||0===pe.length?D.oR.warning(A("select.the.product")):(ce(!0),je(!1))},children:A("delete.selected")}),(0,X.jsx)(o.A,{icon:(0,X.jsx)(g.A,{}),onClick:()=>{f((0,w.Ok)({activeMenu:he,data:void 0}))},disabled:!he.data,style:{minWidth:100}}),(0,X.jsx)(R.A,{setColumns:re,columns:de})]})}),(0,X.jsxs)(r.A,{title:A("orders"),children:[(0,X.jsx)(s.A,{onChange:e=>{Ve({role:e,page:1}),xe(e)},type:"card",activeKey:fe,children:oe.map((e=>(0,X.jsx)(Z,{tab:A(e.name)},e.name)))}),(0,X.jsx)(c.A,{scroll:{x:!0},rowSelection:Me,columns:null===de||void 0===de?void 0:de.filter((e=>e.is_show)),dataSource:we,loading:ke,pagination:{pageSize:Ce.perPage,page:Ce.page,total:_e.total,defaultCurrent:Ce.page},rowKey:e=>e.id,onChange:function(e,t,n){const{pageSize:l,current:a}=e,{field:s,order:i}=n,o=(0,z.A)(i);f((0,w.Ok)({activeMenu:he,data:{...he.data,perPage:l,page:a,column:s,sort:o}}))}})]}),(0,X.jsx)(L.A,{click:()=>{be(!0);const e={...Object.assign({},...pe.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};O.A.delete(e).then((()=>{D.oR.success(A("successfully.deleted")),ce(!1),f((0,S.Gb)()),je(null)})).finally((()=>be(!1)))},text:A(ye?"delete":"all.delete"),loading:ge,setText:Ae}),$&&(0,X.jsx)(F.A,{open:$,handleCancel:()=>J(null),click:$.restore?()=>{be(!0),O.A.restoreAll().then((()=>{D.oR.success(A("successfully.restored")),f((0,S.Gb)()),J(null)})).finally((()=>be(!1)))}:()=>{be(!0),O.A.dropAll().then((()=>{D.oR.success(A("successfully.deleted")),f((0,S.Gb)()),J(null)})).finally((()=>be(!1)))},text:$.restore?A("restore.modal.text"):A("read.carefully"),subTitle:$.restore?"":A("confirm.deletion"),loading:ge,setText:Ae}),Q&&(0,X.jsx)(M.A,{orderDetails:Q,handleCancel:He,status:oe}),se&&(0,X.jsx)(N.A,{orderDetails:se,handleCancel:He}),te&&(0,X.jsx)(T.A,{id:te,handleCancel:He}),le&&(0,X.jsx)(I.A,{id:le,handleCancel:He})]})}},13700:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var l=n(89379),a=n(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};var i=n(25085),o=function(e,t){return a.createElement(i.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:s}))};const d=a.forwardRef(o)},89323:(e,t,n)=>{"use strict";n.d(t,{A:()=>d});var l=n(89379),a=n(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var i=n(25085),o=function(e,t){return a.createElement(i.A,(0,l.A)((0,l.A)({},e),{},{ref:t,icon:s}))};const d=a.forwardRef(o)},39362:function(e,t){var n,l,a;l=[],void 0===(a="function"===typeof(n=function(){return function e(t,n,l){var a,s,i=window,o="application/octet-stream",d=l||o,r=t,c=!n&&!l&&r,u=document.createElement("a"),v=function(e){return String(e)},h=i.Blob||i.MozBlob||i.WebKitBlob||v,m=n||"download";if(h=h.call?h.bind(i):Blob,"true"===String(this)&&(d=(r=[r,d])[0],r=r[1]),c&&c.length<2048&&(m=c.split("/").pop().split("?")[0],u.href=c,-1!==u.href.indexOf(c))){var x=new XMLHttpRequest;return x.open("GET",c,!0),x.responseType="blob",x.onload=function(t){e(t.target.response,m,o)},setTimeout((function(){x.send()}),0),x}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(r)){if(!(r.length>2096103.424&&h!==v))return navigator.msSaveBlob?navigator.msSaveBlob(y(r),m):j(r);d=(r=y(r)).type||o}else if(/([\x80-\xff])/.test(r)){for(var f=0,p=new Uint8Array(r.length),A=p.length;f<A;++f)p[f]=r.charCodeAt(f);r=new h([p],{type:d})}function y(e){for(var t=e.split(/[:;,]/),n=t[1],l=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),a=l.length,s=0,i=new Uint8Array(a);s<a;++s)i[s]=l.charCodeAt(s);return new h([i],{type:n})}function j(e,t){if("download"in u)return u.href=e,u.setAttribute("download",m),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout((function(){i.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,o)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,o)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(a=r instanceof h?r:new h([r],{type:d}),navigator.msSaveBlob)return navigator.msSaveBlob(a,m);if(i.URL)j(i.URL.createObjectURL(a),!0);else{if("string"===typeof a||a.constructor===v)try{return j("data:"+d+";base64,"+i.btoa(a))}catch(g){return j("data:"+d+","+encodeURIComponent(a))}(s=new FileReader).onload=function(e){j(this.result)},s.readAsDataURL(a)}return!0}})?n.apply(t,l):n)||(e.exports=a)}}]);