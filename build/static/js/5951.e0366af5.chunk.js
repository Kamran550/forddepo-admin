"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[5951],{41064:(e,t,i)=>{function l(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(null===t||void 0===t||!t.translations)return{};const{translations:l}=t,a=(e,t)=>{const i=null===l||void 0===l?void 0:l.find((t=>(null===t||void 0===t?void 0:t.locale)===(null===e||void 0===e?void 0:e.locale)));return i||{[t]:""}},n=e.flatMap((e=>i.flatMap((t=>({["".concat(t,"[").concat(null===e||void 0===e?void 0:e.locale,"]")]:a(e,t)[t]})))));return Object.assign({},...n)}i.d(t,{A:()=>l})},75951:(e,t,i)=>{i.r(t),i.d(t,{default:()=>A});var l=i(9950),a=i(59233),n=i(23263),o=i(90650),d=i(49348),s=i(28429),u=i(71999),r=i(91854),v=i(74623),c=i(62572),p=i(63620),g=i(35804),h=i(70030),f=i(41064),m=i(31281),b=i(82405),y=i(44414);const A=()=>{const{t:e}=(0,h.B)(),t=(0,s.Zp)(),i=(0,r.wA)(),{activeMenu:A}=(0,r.d4)((e=>e.menu),r.bN),{params:k}=(0,r.d4)((e=>e.shopCategory),r.bN),[_,j]=(0,l.useState)(!1),[x]=a.A.useForm(),[w,N]=(0,l.useState)(null),{uuid:M}=(0,s.g)(),{languages:E}=(0,r.d4)((e=>e.formLang),r.bN);(0,l.useEffect)((()=>()=>{const e=x.getFieldsValue(!0);i((0,v.Ok)({activeMenu:A,data:e}))}),[]);return(0,l.useEffect)((()=>{var e;A.refetch&&(e=M,j(!0),c.A.getById(e).then((e=>{var t,l,a;let n=e.data;const o={...(0,f.A)(E,n,["title","description"]),image:[(d=null===n||void 0===n?void 0:n.img,{name:d,url:p.sE+d})],keywords:null===n||void 0===n?void 0:n.keywords.split(","),parent_id:{label:null===n||void 0===n||null===(t=n.parent)||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title,value:null===n||void 0===n?void 0:n.parent_id,key:null===n||void 0===n?void 0:n.parent_id},input:null!==(a=null===n||void 0===n?void 0:n.input)&&void 0!==a?a:32767,active:!(null===n||void 0===n||!n.active)};var d;x.setFieldsValue(o),i((0,v.Ok)({activeMenu:A,data:o}))})).finally((()=>{j(!1),i((0,v.km)(A))})))}),[A.refetch]),(0,y.jsx)(n.A,{title:e("edit.category"),extra:(0,y.jsx)(u.A,{}),children:_?(0,y.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,y.jsx)(o.A,{size:"large",className:"mt-5 pt-5"})}):(0,y.jsx)(b.A,{form:x,handleSubmit:(l,a)=>{var n,o,s;const u={title:(0,m.A)(E,l),description:(0,m.A)(E,l,"description"),type:null!==(n=l.parent_id)&&void 0!==n&&n.value?"sub_shop":"shop",active:Number(null===l||void 0===l?void 0:l.active),keywords:null===l||void 0===l||null===(o=l.keywords)||void 0===o?void 0:o.join(","),parent_id:null===l||void 0===l||null===(s=l.parent_id)||void 0===s?void 0:s.value,images:null===a||void 0===a?void 0:a.map((e=>null===e||void 0===e?void 0:e.name)),input:null===l||void 0===l?void 0:l.input};return c.A.update(M,u).then((()=>{d.oR.success(e("successfully.updated")),(0,r.vA)((()=>{i((0,v.EK)({...A,nextUrl:"catalog/shop/categories"})),i((0,g.J)(k))})),t("/catalog/shop/categories")})).catch((e=>N(e.response.data.params)))},error:w})})}}}]);