"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8630],{21777:(e,t,l)=>{l.d(t,{A:()=>i});l(9950);var s=l(20380),n=l(32312),a=l(48538),r=l(70030),d=l(44414);const i=e=>{let{open:t,handleCancel:l,text:i,click:o,loading:c,subTitle:u}=e;const{t:h}=(0,r.B)();return(0,d.jsxs)(s.A,{closable:!1,visible:t,footer:null,centered:!0,children:[(0,d.jsx)(n.Ay,{status:"warning",title:i,subTitle:u}),(0,d.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,d.jsx)(a.A,{type:"primary",className:"mr-2",onClick:o,loading:c,children:h("yes")}),(0,d.jsx)(a.A,{onClick:()=>l(),children:h("no")})]})]})}},98630:(e,t,l)=>{l.r(t),l.d(t,{default:()=>S});var s=l(9950),n=l(12678),a=l(29633),r=l(80737),d=l(48538),i=l(23263),o=l(12203),c=l(49348),u=l(76083),h=l(55386),x=l(91854),v=l(74623),p=l(88986),g=l(8168),m=l(70030),f=l(47526),j=l(25966),A=l(89702),y=l(59051),k=l.n(y),w=l(28429),b=(l(35116),l(28645)),C=l(21777),_=l(44414);function S(){const{t:e}=(0,m.B)(),t=(0,x.wA)(),l=(0,w.Zp)(),[y,S]=(0,s.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:s=>(0,_.jsxs)("div",{className:"text-hover",onClick:()=>(s=>{t((0,v.X4)({id:"order_details",url:"seller/order/details/".concat(s),name:e("order.details")})),l("/seller/order/details/".concat(s))})(null===s||void 0===s?void 0:s.id),children:["#",null===s||void 0===s?void 0:s.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,_.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("shop"),dataIndex:"order",key:"shop",is_show:!0,render:e=>{var t,l;return(0,_.jsx)("div",{className:"text-hover",children:null===(t=e.shop)||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,_.jsx)(a.A,{disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>k()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,_.jsx)(r.A,{children:(0,_.jsx)(d.A,{type:"primary",icon:(0,_.jsx)(n.A,{}),onClick:()=>P(t.id)})})}]),{setIsModalVisible:I}=(0,s.useContext)(h.o),[N,M]=(0,s.useState)(null),[T,P]=(0,s.useState)(null),[R,Y]=(0,s.useState)(!1),[z,B]=(0,s.useState)(null),[D,H]=(0,s.useState)(null),{activeMenu:O}=(0,x.d4)((e=>e.menu),x.bN),{reviews:V,meta:E,loading:K,params:X}=(0,x.d4)((e=>e.orderReview),x.bN);(0,s.useEffect)((()=>{O.refetch&&(t((0,j.ju)()),t((0,v.km)(O)))}),[O.refetch]),(0,p.A)((()=>{const e=O.data,l={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};t((0,j.ju)(l))}),[O.data]);const Z={id:N,onChange:e=>{M(e)}};return(0,_.jsxs)(i.A,{title:e("order.reviews"),extra:(0,_.jsx)(r.A,{wrap:!0,children:(0,_.jsx)(b.A,{columns:y,setColumns:S})}),children:[(0,_.jsx)(o.A,{scroll:{x:!0},rowSelection:Z,columns:null===y||void 0===y?void 0:y.filter((e=>e.is_show)),dataSource:V,pagination:{pageSize:X.perPage,page:X.page,total:E.total,defaultCurrent:X.page},rowKey:e=>e.id,onChange:function(e,l,s){const{pageSize:n,current:a}=e,{field:r,order:d}=s,i=(0,g.A)(d);t((0,v.Ok)({activeMenu:O,data:{perPage:n,page:a,column:r,sort:i}}))},loading:K}),(0,_.jsx)(u.A,{click:()=>{Y(!0);const l={...Object.assign({},...N.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};f.A.delete(l).then((()=>{c.oR.success(e("successfully.deleted")),t((0,j.ju)()),I(!1)})).finally((()=>Y(!1)))},text:e(z?"delete":"all.delete"),setText:M,loading:R}),T&&(0,_.jsx)(A.A,{id:T,handleCancel:()=>P(null)}),D&&(0,_.jsx)(C.A,{open:D,handleCancel:()=>H(null),click:D.restore?()=>{Y(!0),f.A.restoreAll().then((()=>{c.oR.success(e("successfully.restored")),t((0,j.ju)()),H(null)})).finally((()=>Y(!1)))}:()=>{Y(!0),f.A.dropAll().then((()=>{c.oR.success(e("successfully.deleted")),t((0,j.ju)()),H(null)})).finally((()=>Y(!1)))},text:D.restore?e("restore.modal.text"):e("read.carefully"),subTitle:D.restore?"":e("confirm.deletion"),loading:R,setText:M})]})}}}]);