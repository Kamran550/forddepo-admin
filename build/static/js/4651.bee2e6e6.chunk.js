(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4651],{35116:(e,t,n)=>{"use strict";n.d(t,{A:()=>r});n(9950);var a=n(48538),l=n(44070),i=n(49348),o=n(70030),d=n(13311),s=n(44414);function r(e){let{size:t="",onClick:n,type:r="default",...c}=e;const{t:u}=(0,o.B)(),{isDemo:v}=(0,d.A)();return(0,s.jsx)(a.A,{size:t,icon:(0,s.jsx)(l.A,{}),onClick:e=>{v?i.oR.warning(u("cannot.work.demo")):n(e)},type:r,...c})}},69091:(e,t,n)=>{"use strict";n.d(t,{A:()=>c});n(9950);var a=n(87094),l=n(41988),i=n(91854),o=n(70030),d=n(74704),s=n(89627),r=n(44414);const c=e=>{let{data:t}=e;const{t:n}=(0,o.B)(),{defaultCurrency:c}=(0,i.d4)((e=>e.currency),i.bN);return(0,r.jsxs)(a.A,{gutter:16,className:"mt-3",children:[(0,r.jsx)(l.A,{flex:"0 0 16.6%",children:(0,r.jsx)(d.A,{title:n("all.orders"),value:null===t||void 0===t?void 0:t.orders_count})}),(0,r.jsx)(l.A,{flex:"0 0 16.6%",children:(0,r.jsx)(d.A,{title:n("ready.orders"),value:null===t||void 0===t?void 0:t.ready_orders_count})}),(0,r.jsx)(l.A,{flex:"0 0 16.6%",children:(0,r.jsx)(d.A,{title:n("on.a.way.orders"),value:null===t||void 0===t?void 0:t.on_a_way_orders_count})}),(0,r.jsx)(l.A,{flex:"0 0 16.6%",children:(0,r.jsx)(d.A,{title:n("cancelled.orders"),value:null===t||void 0===t?void 0:t.cancel_orders_count})}),(0,r.jsx)(l.A,{flex:"0 0 16.6%",children:(0,r.jsx)(d.A,{title:n("delivered.orders"),value:null===t||void 0===t?void 0:t.delivered_orders_count})}),(0,r.jsx)(l.A,{flex:"0 0 16.6%",children:(0,r.jsx)(d.A,{title:n("total.price"),value:(0,s.r)(null===t||void 0===t?void 0:t.total_price,null===c||void 0===c?void 0:c.symbol)})})]})}},28645:(e,t,n)=>{"use strict";n.d(t,{A:()=>x});var a=n(9950),l=n(66362),i=n(69216),o=n(80737),d=n(25933),s=n(57811),r=n(81541),c=n(48538),u=n(89323),v=n(70030),h=n(44414);const{Text:m}=l.A,x=e=>{let{columns:t=[],setColumns:n,style:l,size:x="",iconOnly:f}=e;const{t:p}=(0,v.B)(),[y,A]=(0,a.useState)(!1),j=(0,h.jsx)(i.A,{children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,h.jsx)(i.A.Item,{children:(0,h.jsxs)(o.A,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(d.A,{defaultChecked:!0,onClick:()=>function(e){const a=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(a)}(e),disabled:1===a})]})},e+a)))});return(0,h.jsx)(s.A,{overlay:j,trigger:["click"],onVisibleChange:e=>{A(e)},visible:y,children:(0,h.jsx)(r.A,{title:p("change.columns"),children:(0,h.jsx)(c.A,{style:{...l},size:x,icon:(0,h.jsx)(u.A,{}),children:f?null:p("Columns")})})})}},8168:(e,t,n)=>{"use strict";function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{A:()=>a})},89627:(e,t,n)=>{"use strict";function a(e,t){var n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}].slice().reverse().find((function(t){return e>=t.value}));return n?"$"+(e/n.value).toFixed(t).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+n.symbol:"0"}n.d(t,{r:()=>a})},74704:(e,t,n)=>{"use strict";n.d(t,{A:()=>i});n(9950);var a=n(23263),l=n(44414);function i(e){let{title:t="Orders",value:n=0,color:i="grey",onClick:o}=e;return(0,l.jsx)(a.A,{className:"statistics-card",hoverable:!!o,onClick:o,children:(0,l.jsxs)("div",{className:"card-wrapper",children:[(0,l.jsx)("div",{className:"space"}),(0,l.jsx)("div",{className:"content",children:(0,l.jsx)("h1",{className:"number",children:n})}),(0,l.jsx)("span",{className:"highlighter ".concat(i)}),t&&(0,l.jsx)("h4",{className:"title",children:t})]})})}},53406:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>E});var a=n(9950),l=n(5713),i=n(54909),o=n(12916),d=n(48538),s=n(80737),r=n(90650),c=n(23263),u=n(12203),v=n(28429),h=n(24513),m=n(12678),x=n(44070),f=n(98114),p=n(91854),y=n(74623),A=n(70030),j=n(88986),g=n(53177),b=n(8168),w=n(8297),_=n(53774),k=n(56592),C=n(23283),S=n(28645),M=n(39174),z=n(38635),N=n(26714),R=n(49348),I=n(35116),V=n(23758),B=n(55386),D=n(76083),H=n(63620),Y=n(69091),T=n(59051),U=n.n(T),O=n(44414);const{RangePicker:L}=l.A,{TabPane:P}=i.A;function E(){var e,t;const n=(0,p.wA)(),l=(0,v.Zp)(),{t:T}=(0,A.B)(),{defaultCurrency:E}=(0,p.d4)((e=>e.currency),p.bN),[G,K]=(0,a.useState)(null),[$,F]=(0,a.useState)(null),[X,q]=(0,a.useState)(null),[W,Z]=(0,a.useState)(null),{id:J}=(0,v.g)(),Q=[{id:7,name:"all"},{id:3,name:"ready"},{id:4,name:"on_a_way"},{id:5,name:"delivered"},{id:6,name:"canceled"}],[ee,te]=(0,a.useState)([{title:T("id"),is_show:!0,dataIndex:"id",key:"id",sorter:!0},{title:T("client"),is_show:!0,dataIndex:"user",key:"user",render:e=>(0,O.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",null===e||void 0===e?void 0:e.lastname]})},{title:T("number.of.products"),is_show:!0,dataIndex:"order_details_count",key:"order_details_count",render:e=>(0,O.jsxs)("div",{className:"text-lowercase",children:[e||0," ",T("products")]})},{title:T("status"),is_show:!0,dataIndex:"status",key:"status",render:(e,t)=>(0,O.jsxs)("div",{children:["new"===e?(0,O.jsx)(o.A,{color:"blue",children:T(e)}):"canceled"===e?(0,O.jsx)(o.A,{color:"error",children:T(e)}):(0,O.jsx)(o.A,{color:"cyan",children:T(e)}),"delivered"!==e&&"canceled"!==e?(0,O.jsx)(h.A,{onClick:()=>K(t)}):""]})},{title:T("deliveryman"),is_show:!0,dataIndex:"deliveryman",key:"deliveryman",render:(e,t)=>(0,O.jsx)("div",{children:"ready"===t.status&&"pickup"!==t.delivery_type?(0,O.jsx)(d.A,{type:"link",onClick:()=>Z(t),children:(0,O.jsxs)(s.A,{children:[e?"".concat(e.firstname," ").concat(e.lastname):T("add.deliveryman"),(0,O.jsx)(h.A,{})]})}):(0,O.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",null===e||void 0===e?void 0:e.lastname]})})},{title:T("amount"),is_show:!0,dataIndex:"total_price",key:"total_price",render:e=>(0,_.A)(e,E.symbol)},{title:T("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var t;return T(null===e||void 0===e||null===(t=e.payment_system)||void 0===t?void 0:t.tag)||"-"}},{title:T("created.at"),is_show:!0,dataIndex:"created_at",key:"created_at"},{title:T("options"),is_show:!0,key:"options",render:(e,t)=>(0,O.jsxs)(s.A,{children:[(0,O.jsx)(d.A,{icon:(0,O.jsx)(M.kMs,{}),onClick:()=>F(t.id)}),(0,O.jsx)(d.A,{icon:(0,O.jsx)(m.A,{}),onClick:()=>(e=>{n((0,y.X4)({url:"order/details/".concat(e.id),id:"order_details",name:T("order.details")})),l("/order/details/".concat(e.id))})(t)}),(0,O.jsx)(I.A,{icon:(0,O.jsx)(x.A,{}),onClick:()=>{de([t.id]),ne(!0),re(!0)}}),(0,O.jsx)(d.A,{icon:(0,O.jsx)(f.A,{}),onClick:()=>q(t.id)})]})}]),{setIsModalVisible:ne}=(0,a.useContext)(B.o),[ae,le]=(0,a.useState)(!1),{activeMenu:ie}=(0,p.d4)((e=>e.menu),p.bN),[oe,de]=(0,a.useState)(null),[se,re]=(0,a.useState)(null),[ce,ue]=(0,a.useState)(!1),{orders:ve,meta:he,loading:me,params:xe,statistic:fe}=(0,p.d4)((e=>e.orders),p.bN),pe=null===ie||void 0===ie?void 0:ie.data;(0,j.A)((()=>{const e={search:null===pe||void 0===pe?void 0:pe.search,sort:null===pe||void 0===pe?void 0:pe.sort,column:null===pe||void 0===pe?void 0:pe.column,perPage:null===pe||void 0===pe?void 0:pe.perPage,page:null===pe||void 0===pe?void 0:pe.page,deliveryman:J,date_from:null===pe||void 0===pe?void 0:pe.date_from,date_to:null===pe||void 0===pe?void 0:pe.date_to,status:"all"===(null===pe||void 0===pe?void 0:pe.status)||null===pe||void 0===pe?void 0:pe.status};n((0,g.Gb)(e))}),[null===ie||void 0===ie?void 0:ie.data]);const ye=()=>{K(null),Z(null),F(null),q(null)};(0,a.useEffect)((()=>{if(null!==ie&&void 0!==ie&&ie.refetch){const e={status:null===pe||void 0===pe?void 0:pe.status,page:null===pe||void 0===pe?void 0:pe.page,perPage:10,type:"delivery",deliveryman:J};n((0,g.Gb)(e)),n((0,y.km)(ie))}}),[null===ie||void 0===ie?void 0:ie.refetch]);const Ae={selectedRowKeys:oe,onChange:e=>{de(e)}};return(0,O.jsxs)("div",{children:[(0,O.jsx)(r.A,{spinning:me,children:(0,O.jsx)(Y.A,{data:fe})}),(0,O.jsxs)(c.A,{title:T("orders"),extra:(0,O.jsxs)(s.A,{wrap:!0,children:[(0,O.jsx)(L,{format:"YYYY-MM-DD",onChange:e=>{return t=e,void n((0,y.Ok)({activeMenu:ie,data:{...pe,date_from:t?U()(null===t||void 0===t?void 0:t[0]).format("YYYY-MM-DD").toString():void 0,date_to:t?U()(null===t||void 0===t?void 0:t[1]).format("YYYY-MM-DD").toString():void 0}}));var t}}),(0,O.jsx)(I.A,{type:"danger",onClick:()=>{null===oe||0===oe.length?R.oR.warning(T("select.the.product")):(ne(!0),re(!1))},children:T("delete.all")}),(0,O.jsx)(d.A,{onClick:()=>{le(!0),V.A.export({type:"delivery",deliveryman:J,date_from:null===pe||void 0===pe?void 0:pe.date_from,date_to:null===pe||void 0===pe?void 0:pe.date_to,status:"all"===(null===pe||void 0===pe?void 0:pe.status)||null===pe||void 0===pe?void 0:pe.status}).then((e=>{const t=H.bb+e.data.file_name;window.location.href=t})).finally((()=>le(!1)))},loading:ae,children:T("export")}),(0,O.jsx)(S.A,{setColumns:te,columns:ee})]}),children:[(0,O.jsx)("div",{className:"mt-2 mb-4",children:(0,O.jsx)(w.A,{placeholder:T("search"),width:480,handleChange:e=>{return t=e,a="search",void n((0,y.Ok)({activeMenu:ie,data:{...pe,[a]:t}}));var t,a},defaultValue:null===(e=ie.data)||void 0===e?void 0:e.search,resetSearch:!(null!==(t=ie.data)&&void 0!==t&&t.search)})}),(0,O.jsx)(i.A,{onChange:e=>{const t=e;n((0,y.Ok)({activeMenu:ie,data:{...pe,status:t}}))},type:"card",activeKey:null===pe||void 0===pe?void 0:pe.status,children:Q.map((e=>(0,O.jsx)(P,{tab:T(e.name)},e.name)))}),(0,O.jsx)(u.A,{scroll:{x:!0},rowSelection:Ae,columns:null===ee||void 0===ee?void 0:ee.filter((e=>e.is_show)),dataSource:ve,loading:me,pagination:{pageSize:xe.perPage,page:xe.page,total:he.total,defaultCurrent:xe.page},rowKey:e=>e.id,onChange:function(e,t,a){const{pageSize:l,current:i}=e,{field:o,order:d}=a,s=(0,b.A)(d);n((0,y.Ok)({activeMenu:ie,data:{...ie.data,perPage:l,page:i,column:o,sort:s}}))}}),G&&(0,O.jsx)(k.A,{orderDetails:G,handleCancel:ye,status:Q}),W&&(0,O.jsx)(C.A,{orderDetails:W,handleCancel:ye}),$&&(0,O.jsx)(z.A,{id:$,handleCancel:ye}),X&&(0,O.jsx)(N.A,{id:X,handleCancel:ye}),(0,O.jsx)(D.A,{click:()=>{ue(!0);const e={...Object.assign({},...oe.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};V.A.delete(e).then((()=>{R.oR.success(T("successfully.deleted")),ne(!1),n((0,g.Gb)()),re(null),de(null)})).finally((()=>ue(!1)))},text:T(se?"delete":"all.delete"),loading:ce,setText:de})]})]})}},89323:(e,t,n)=>{"use strict";n.d(t,{A:()=>s});var a=n(89379),l=n(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var o=n(25085),d=function(e,t){return l.createElement(o.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:i}))};const s=l.forwardRef(d)},39362:function(e,t){var n,a,l;a=[],void 0===(l="function"===typeof(n=function(){return function e(t,n,a){var l,i,o=window,d="application/octet-stream",s=a||d,r=t,c=!n&&!a&&r,u=document.createElement("a"),v=function(e){return String(e)},h=o.Blob||o.MozBlob||o.WebKitBlob||v,m=n||"download";if(h=h.call?h.bind(o):Blob,"true"===String(this)&&(s=(r=[r,s])[0],r=r[1]),c&&c.length<2048&&(m=c.split("/").pop().split("?")[0],u.href=c,-1!==u.href.indexOf(c))){var x=new XMLHttpRequest;return x.open("GET",c,!0),x.responseType="blob",x.onload=function(t){e(t.target.response,m,d)},setTimeout((function(){x.send()}),0),x}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(r)){if(!(r.length>2096103.424&&h!==v))return navigator.msSaveBlob?navigator.msSaveBlob(A(r),m):j(r);s=(r=A(r)).type||d}else if(/([\x80-\xff])/.test(r)){for(var f=0,p=new Uint8Array(r.length),y=p.length;f<y;++f)p[f]=r.charCodeAt(f);r=new h([p],{type:s})}function A(e){for(var t=e.split(/[:;,]/),n=t[1],a=("base64"==t[2]?atob:decodeURIComponent)(t.pop()),l=a.length,i=0,o=new Uint8Array(l);i<l;++i)o[i]=a.charCodeAt(i);return new h([o],{type:n})}function j(e,t){if("download"in u)return u.href=e,u.setAttribute("download",m),u.className="download-js-link",u.innerHTML="downloading...",u.style.display="none",document.body.appendChild(u),setTimeout((function(){u.click(),document.body.removeChild(u),!0===t&&setTimeout((function(){o.URL.revokeObjectURL(u.href)}),250)}),66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),window.open(e)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=e),!0;var n=document.createElement("iframe");document.body.appendChild(n),!t&&/^data:/.test(e)&&(e="data:"+e.replace(/^data:([\w\/\-\+]+)/,d)),n.src=e,setTimeout((function(){document.body.removeChild(n)}),333)}if(l=r instanceof h?r:new h([r],{type:s}),navigator.msSaveBlob)return navigator.msSaveBlob(l,m);if(o.URL)j(o.URL.createObjectURL(l),!0);else{if("string"===typeof l||l.constructor===v)try{return j("data:"+s+";base64,"+o.btoa(l))}catch(g){return j("data:"+s+","+encodeURIComponent(l))}(i=new FileReader).onload=function(e){j(this.result)},i.readAsDataURL(l)}return!0}})?n.apply(t,a):n)||(e.exports=l)}}]);