"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7163],{17456:(e,l,a)=>{a.d(l,{A:()=>r});a(9950);const r=a.p+"static/media/paystack.6d6a77c8d6bfc75061ec651e5c2e74eb.svg"},85023:(e,l,a)=>{a.d(l,{D:()=>t});var r=a(9950),s=a(99674),i=a(90650),n=a(44414);const t=e=>{let{fetchOptions:l,refetch:a=!1,...t}=e;const[d,c]=(0,r.useState)(!1),[u,o]=(0,r.useState)([]);return(0,n.jsx)(s.A,{labelInValue:!0,filterOption:!1,notFoundContent:d?(0,n.jsx)(i.A,{size:"small"}):"no results",...t,options:d?[]:u,onFocus:()=>{u.length&&!a||(c(!0),l().then((e=>{o(e),c(!1)})))}})}},97163:(e,l,a)=>{a.r(l),a.d(l,{default:()=>P});var r=a(9950),s=a(59233),i=a(23263),n=a(87094),t=a(41988),d=a(99674),c=a(90650),u=a(55902),o=a(25933),m=a(48538),p=a(70030),x=a(74623),h=a(91854),j=a(49348),A=a(28429),b=a(17456),v=a(54826),y=a(70283),g=a(46984),q=a(77380),f=a(34996),k=a(85023),I=a(13567),_=a(44880),F=a(48970),N=a(44414);function P(){var e,l,a,P,w,V;const{t:C}=(0,p.B)(),[z]=s.A.useForm(),[D,O]=(0,r.useState)(!1),[S,L]=(0,r.useState)(!1),[R,M]=(0,r.useState)([]),[W,B]=(0,r.useState)(null),{activeMenu:E}=(0,h.d4)((e=>e.menu),h.bN),[U,Z]=(0,r.useState)(null!==(e=E.data)&&void 0!==e&&e.image?[null===(l=E.data)||void 0===l?void 0:l.image]:[]),{defaultCurrency:G}=(0,h.d4)((e=>e.currency),h.bN),K=(0,h.wA)(),T=(0,A.Zp)();(0,r.useEffect)((()=>{!async function(){L(!0),f.A.getAll().then((e=>{let{data:l}=e;const a=l.filter((e=>"wallet"!==e.tag)).filter((e=>"cash"!==e.tag)).map((e=>({label:e.tag[0].toUpperCase()+e.tag.substring(1),value:e.id,key:e.id})));M(a)})).finally((()=>L(!1)))}()}),[]);return(0,N.jsx)(i.A,{title:C("add.payment.payloads"),className:"h-100",children:(0,N.jsxs)(s.A,{layout:"vertical",name:"user-address",form:z,onFinish:e=>{var l,a;delete e.payment_id,"FlutterWave"!==(null===W||void 0===W?void 0:W.label)||U[0]?(O(!0),q.C.create({payment_id:W.value,payload:{...e,logo:U[0]?U[0].name:void 0,paypal_currency:null===(l=e.paypal_currency)||void 0===l?void 0:l.label,currency:(null===(a=e.currency)||void 0===a?void 0:a.label)||e.currency,paypal_validate_ssl:null!==e&&void 0!==e&&e.paypal_validate_ssl?Number(null===e||void 0===e?void 0:e.paypal_validate_ssl):void 0,sandbox:"undefined"!==typeof(null===e||void 0===e?void 0:e.sandbox)?Number(Boolean(null===e||void 0===e?void 0:e.sandbox)):void 0}}).then((()=>{const e="payment-payloads";j.oR.success(C("successfully.created")),(0,h.vA)((()=>{K((0,x.EK)({...E,nextUrl:e})),K((0,g.i)({})),K((0,x.Ms)(E))})),T("/".concat(e))})).catch((e=>{var l,a,r;j.oR.dismiss(),j.oR.error(null===e||void 0===e||null===(l=e.response)||void 0===l||null===(a=l.data)||void 0===a||null===(r=a.params)||void 0===r?void 0:r.payment_id[0])})).finally((()=>O(!1)))):j.oR.error(C("choose.payload.image"))},children:[(0,N.jsxs)(n.A,{gutter:12,children:[(0,N.jsx)(t.A,{span:"Cash"===(null===W||void 0===W?void 0:W.label)||"Wallet"===(null===W||void 0===W?void 0:W.label)?12:24,children:(0,N.jsx)(s.A.Item,{label:C("payment"),name:"payment_id",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(d.A,{notFoundContent:S?(0,N.jsx)(c.A,{size:"small"}):"no results",allowClear:!0,options:R,onSelect:e=>{const l=R.find((l=>l.value===e));switch(l.label){case"Paypal":z.setFieldsValue({paypal_validate_ssl:!0,paypal_locale:_.A.language,paypal_currency:{label:null===G||void 0===G?void 0:G.title,value:null===G||void 0===G?void 0:G.id}});break;case"Stripe":case"Razorpay":case"Paystack":case"FlutterWave":case"Mollie":case"Moya-sar":case"Paytabs":case"Zain-cash":z.setFieldsValue({currency:null===G||void 0===G?void 0:G.title});break;case"Mercado-pago":z.setFieldsValue({currency:null===G||void 0===G?void 0:G.title,sandbox:!0});break;case"Pay-fast":z.setFieldsValue({sandbox:!0});break;default:z.resetFields()}B(l)}})})}),"Cash"===(null===W||void 0===W?void 0:W.label)||"Wallet"===(null===W||void 0===W?void 0:W.label)?"":(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.A,{span:24,className:"d-flex justify-content-center mt-4 mb-5",children:(e=>{switch(e){case"Paypal":return(0,N.jsx)(v.SnG,{size:80});case"Stripe":return(0,N.jsx)(y.kDV,{size:80});case"Razorpay":return(0,N.jsx)(y.NVb,{size:80});case"Paystack":return(0,N.jsx)("img",{src:b.A,alt:"img",width:"80",height:"80"});case"Flutterwave":return(0,N.jsx)(y.FuR,{size:80});default:return null}})(null===W||void 0===W?void 0:W.label)}),"Paystack"===(null===W||void 0===W?void 0:W.label)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("paystack.pk"),name:"paystack_pk",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("paystack.sk"),name:"paystack_sk",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})})," ",(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("currency"),name:"currency",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(k.D,{placeholder:C("select.currency"),valuePropName:"label",defaultValue:{value:G.id,label:G.title},fetchOptions:()=>I.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:"".concat(e.title),key:e.id})))}))})})})]}):"Paypal"===(null===W||void 0===W?void 0:W.label)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("paypal.mode"),name:"paypal_mode",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(d.A,{options:[{value:"live",label:C("live")},{value:"sandbox",label:C("sandbox")}]})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("paypal.currency"),name:"paypal_currency",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(k.D,{placeholder:C("select.currency"),valuePropName:"label",defaultValue:{value:G.id,label:G.title},fetchOptions:()=>I.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:"".concat(e.title),key:e.id})))}))})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("paypal.sandbox.client.id"),name:"paypal_sandbox_client_id",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("paypal.sandbox.client.secret"),name:"paypal_sandbox_client_secret",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("paypal.live.client.id"),name:"paypal_live_client_id",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("paypal.live.client.secret"),name:"paypal_live_client_secret",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})})]}):"Stripe"===(null===W||void 0===W?void 0:W.label)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("stripe.pk"),name:"stripe_pk",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("stripe.sk"),name:"stripe_sk",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})})," ",(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("currency"),name:"currency",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(k.D,{placeholder:C("select.currency"),valuePropName:"label",defaultValue:{value:G.id,label:G.title},fetchOptions:()=>I.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:"".concat(e.title),key:e.id})))}))})})})]}):"Razorpay"===(null===W||void 0===W?void 0:W.label)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("razorpay.key"),name:"razorpay_key",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("razorpay.secret"),name:"razorpay_secret",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})})," ",(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("currency"),name:"currency",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(k.D,{placeholder:C("select.currency"),valuePropName:"label",defaultValue:{value:G.id,label:G.title},fetchOptions:()=>I.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:"".concat(e.title),key:e.id})))}))})})})]}):"FlutterWave"===(null===W||void 0===W?void 0:W.label)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("payload.title"),name:"title",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("payload.description"),name:"description",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("flw_sk"),name:"flw_sk",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("currency"),name:"currency",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(k.D,{placeholder:C("select.currency"),valuePropName:"label",defaultValue:{value:G.id,label:G.title},fetchOptions:()=>I.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:"".concat(e.title),key:e.id})))}))})})}),(0,N.jsx)(t.A,{span:6,children:(0,N.jsx)(s.A.Item,{rules:[{required:!0}],label:C("logo"),children:(0,N.jsx)(F.A,{type:"brands",imageList:U,setImageList:Z,form:z,multiple:!1})})})]}):"mollie"===(null===W||void 0===W?void 0:W.label.toLowerCase())?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("partner.id"),name:"partner_id",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("profile.id"),name:"profile_id",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("secret.key"),name:"secret_key",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("currency"),name:"currency",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(k.D,{placeholder:C("select.currency"),valuePropName:"label",defaultValue:{value:G.id,label:G.title},fetchOptions:()=>I.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:"".concat(e.title),key:e.id})))}))})})}),(0,N.jsx)(t.A,{span:6,children:(0,N.jsx)(s.A.Item,{rules:[{required:!0}],label:C("logo"),children:(0,N.jsx)(F.A,{type:"brands",imageList:U,setImageList:Z,form:z,multiple:!1})})})]}):"moya-sar"===(null===W||void 0===W||null===(a=W.label)||void 0===a?void 0:a.toLowerCase())?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("public.key"),name:"public_key",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("secret.key"),name:"secret_key",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("secret.token"),name:"secret_token",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("currency"),name:"currency",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(k.D,{placeholder:C("select.currency"),valuePropName:"label",defaultValue:{value:G.id,label:G.title},fetchOptions:()=>I.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:"".concat(e.title),key:e.id})))}))})})}),(0,N.jsx)(t.A,{span:6,children:(0,N.jsx)(s.A.Item,{rules:[{required:!0}],label:C("logo"),children:(0,N.jsx)(F.A,{type:"brands",imageList:U,setImageList:Z,form:z,multiple:!1})})})]}):"paytabs"===(null===W||void 0===W||null===(P=W.label)||void 0===P?void 0:P.toLowerCase())?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("server.key"),name:"server_key",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("profile.id"),name:"profile_id",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("client.key"),name:"client_key",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("currency"),name:"currency",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(k.D,{placeholder:C("select.currency"),valuePropName:"label",defaultValue:{value:G.id,label:G.title},fetchOptions:()=>I.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:"".concat(e.title),key:e.id})))}))})})})]}):"zain-cash"===(null===W||void 0===W||null===(w=W.label)||void 0===w?void 0:w.toLowerCase())?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("url"),name:"url",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("msisdn"),name:"msisdn",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("merchantId"),name:"merchantId",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("key"),name:"key",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("currency"),name:"currency",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(k.D,{placeholder:C("select.currency"),valuePropName:"label",defaultValue:{value:G.id,label:G.title},fetchOptions:()=>I.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:"".concat(e.title),key:e.id})))}))})})})]}):"mercado-pago"===(null===W||void 0===W||null===(V=W.label)||void 0===V?void 0:V.toLowerCase())?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("token"),name:"token",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("currency"),name:"currency",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(k.D,{placeholder:C("select.currency"),valuePropName:"label",defaultValue:{value:G.id,label:G.title},fetchOptions:()=>I.A.getAll().then((e=>{let{data:l}=e;return l.filter((e=>e.active)).map((e=>({value:e.id,label:"".concat(e.title),key:e.id})))}))})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("sandbox"),name:"sandbox",children:(0,N.jsx)(o.A,{defaultChecked:!0})})})]}):"Pay-fast"===(null===W||void 0===W?void 0:W.label)?(0,N.jsxs)(N.Fragment,{children:[(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("merchant.id"),name:"merchant_id",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("merchant.key"),name:"merchant_key",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("pass.phrase"),name:"pass_phrase",rules:[{required:!0,message:C("required")}],children:(0,N.jsx)(u.A,{})})}),(0,N.jsx)(t.A,{span:12,children:(0,N.jsx)(s.A.Item,{label:C("sandbox"),name:"sandbox",valuePropName:"checked",children:(0,N.jsx)(o.A,{})})})]}):null]})]}),(0,N.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,N.jsx)("div",{className:"pb-5",children:(0,N.jsx)(m.A,{type:"primary",htmlType:"submit",loading:D,disabled:D,children:C("submit")})})})]})})}}}]);