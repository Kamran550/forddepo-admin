"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2396],{85023:(e,t,l)=>{l.d(t,{D:()=>r});var n=l(9950),a=l(99674),i=l(90650),s=l(44414);const r=e=>{let{fetchOptions:t,refetch:l=!1,...r}=e;const[o,d]=(0,n.useState)(!1),[c,u]=(0,n.useState)([]);return(0,s.jsx)(a.A,{labelInValue:!0,filterOption:!1,notFoundContent:o?(0,s.jsx)(i.A,{size:"small"}):"no results",...r,options:o?[]:c,onFocus:()=>{c.length&&!l||(d(!0),t().then((e=>{u(e),d(!1)})))}})}},28645:(e,t,l)=>{l.d(t,{A:()=>p});var n=l(9950),a=l(66362),i=l(69216),s=l(80737),r=l(25933),o=l(57811),d=l(81541),c=l(48538),u=l(89323),v=l(70030),h=l(44414);const{Text:m}=a.A,p=e=>{let{columns:t=[],setColumns:l,style:a,size:p="",iconOnly:y}=e;const{t:x}=(0,v.B)(),[A,j]=(0,n.useState)(!1),g=(0,h.jsx)(i.A,{children:null===t||void 0===t?void 0:t.map(((e,n)=>(0,h.jsx)(i.A.Item,{children:(0,h.jsxs)(s.A,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(r.A,{defaultChecked:!0,onClick:()=>function(e){const n=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));l(n)}(e),disabled:1===n})]})},e+n)))});return(0,h.jsx)(o.A,{overlay:g,trigger:["click"],onVisibleChange:e=>{j(e)},visible:A,children:(0,h.jsx)(d.A,{title:x("change.columns"),children:(0,h.jsx)(c.A,{style:{...a},size:p,icon:(0,h.jsx)(u.A,{}),children:y?null:x("Columns")})})})}},79406:(e,t,l)=>{l.d(t,{a:()=>d});var n=l(9950),a=l(95491),i=l.n(a),s=l(99674),r=l(90650),o=l(44414);const d=e=>{let{fetchOptions:t,debounceTimeout:l=400,refetch:a=!1,...d}=e;const[c,u]=(0,n.useState)(!1),[v,h]=(0,n.useState)([]),m=(0,n.useMemo)((()=>i()((e=>{h([]),u(!0),t(e).then((e=>{h(e),u(!1)}))}),l)),[t,l]);return(0,o.jsx)(s.A,{showSearch:!0,allowClear:!0,labelInValue:!0,onClear:()=>m(""),filterOption:!1,onSearch:m,notFoundContent:c?(0,o.jsx)(r.A,{size:"small"}):"no results",...d,options:v,onFocus:()=>{m("")}})}},8168:(e,t,l)=>{function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}l.d(t,{A:()=>n})},53774:(e,t,l)=>{l.d(t,{A:()=>a});var n=l(83291);function a(){var e,t;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0;const s=null===(e=n.M.getState())||void 0===e||null===(t=e.currency)||void 0===t?void 0:t.defaultCurrency,r=Number(l).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),o=a||(null===s||void 0===s?void 0:s.symbol)||"$";return"after"===(i||(null===s||void 0===s?void 0:s.position)||"before")?"".concat(r," ").concat(o):"".concat(o," ").concat(r)}},92396:(e,t,l)=>{l.r(t),l.d(t,{default:()=>Y});var n=l(9950),a=l(54909),i=l(12916),s=l(80737),r=l(48538),o=l(81541),d=l(23263),c=l(12203),u=l(91854),v=l(74623),h=l(88986),m=l(8168),p=l(70030),y=l(53774),x=l(24513),A=l(66276),j=l(20380),g=l(59233),b=l(87094),f=l(41988),w=l(56952),C=l(55902),_=l(85023),k=l(53271),I=l(13567),S=l(34996),z=l(38342),V=l(79406),M=l(44414);function P(e){var t,l,a,i,s,o,d,c;let{data:h,handleCancel:m}=e;const{t:y}=(0,p.B)(),{activeMenu:x}=(0,u.d4)((e=>e.menu),u.bN),[A,P]=(0,n.useState)(!1),q=(0,u.wA)();return(0,M.jsx)(j.A,{visible:!!h,title:y("pay.to.seller"),onCancel:m,footer:[(0,M.jsx)(r.A,{onClick:m,children:y("cancel")},"calcel-btn"),(0,M.jsx)(r.A,{type:"primary",form:"form",htmlType:"submit",loading:A,children:null!==h&&void 0!==h&&h.id?y("edit"):y("create")},"pay-btn")],children:(0,M.jsx)(g.A,{initialValues:{cause:null===h||void 0===h?void 0:h.cause,price:null===h||void 0===h?void 0:h.price,answer:null===h||void 0===h?void 0:h.answer,currency_id:(null===h||void 0===h?void 0:h.currency)&&{value:null===h||void 0===h||null===(t=h.currency)||void 0===t?void 0:t.id,label:"".concat(null===h||void 0===h||null===(l=h.currency)||void 0===l?void 0:l.title," (").concat(null===h||void 0===h||null===(a=h.currency)||void 0===a?void 0:a.symbol,")")},payment_id:(null===h||void 0===h?void 0:h.payment)&&{value:null===h||void 0===h||null===(i=h.payment)||void 0===i?void 0:i.id,label:null===h||void 0===h||null===(s=h.payment)||void 0===s?void 0:s.tag},created_by:(null===h||void 0===h?void 0:h.createdBy)&&{value:null===h||void 0===h||null===(o=h.createdBy)||void 0===o?void 0:o.id,label:"".concat(null===h||void 0===h||null===(d=h.createdBy)||void 0===d?void 0:d.firstname," ").concat((null===h||void 0===h||null===(c=h.createdBy)||void 0===c?void 0:c.lastname)||"")}},onFinish:e=>{var t,l,n;const a={cause:e.cause,price:e.price,created_by:null===e||void 0===e||null===(t=e.created_by)||void 0===t?void 0:t.value,payment_id:null===e||void 0===e||null===(l=e.payment_id)||void 0===l?void 0:l.value,currency_id:null===e||void 0===e||null===(n=e.currency_id)||void 0===n?void 0:n.value,answer:e.answer};P(!0),null!==h&&void 0!==h&&h.id?z.s.update(h.id,a).then((()=>{m(),q((0,v.Ms)(x))})).finally((()=>P(!1))):z.s.create(a).then((()=>{m(),q((0,v.Ms)(x))})).finally((()=>P(!1)))},id:"form",layout:"vertical",children:(0,M.jsxs)(b.A,{gutter:24,children:[(0,M.jsxs)(f.A,{span:12,children:[(0,M.jsx)(g.A.Item,{name:"created_by",rules:[{required:!0,message:y("required")}],label:y("seller"),children:(0,M.jsx)(V.a,{className:"w-100",placeholder:y("select.seller"),fetchOptions:e=>k.A.getAll({role:"seller",search:e}).then((e=>{let{data:t}=e;return t.map((e=>({value:e.id,label:"".concat(e.firstname," ").concat(e.lastname||""),key:e.id})))}))})}),(0,M.jsx)(g.A.Item,{name:"payment_id",rules:[{required:!0,message:y("required")}],label:y("payment"),children:(0,M.jsx)(_.D,{className:"w-100",placeholder:y("select.payment.type"),fetchOptions:()=>S.A.getAll().then((e=>{let{data:t}=e;return t.filter((e=>e.active&&"wallet"===e.tag)).map((e=>({value:e.id,label:e.tag,key:e.id})))}))})})]}),(0,M.jsxs)(f.A,{span:12,children:[(0,M.jsx)(g.A.Item,{name:"currency_id",rules:[{required:!0,message:y("required")}],label:y("currency"),children:(0,M.jsx)(_.D,{className:"w-100",placeholder:y("select.currency"),fetchOptions:()=>I.A.getAll().then((e=>{let{data:t}=e;return t.filter((e=>e.active)).map((e=>({value:e.id,label:"".concat(e.title," (").concat(e.symbol||"",")"),key:e.id})))}))})}),(0,M.jsx)(g.A.Item,{name:"price",rules:[{required:!0,message:y("required")}],label:y("price"),children:(0,M.jsx)(w.A,{className:"w-100",placeholder:y("amount"),min:0})})]}),(0,M.jsxs)(f.A,{span:24,children:[(0,M.jsx)(g.A.Item,{name:"cause",rules:[{validator:(e,t)=>t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(y("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(y("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(y("required")))}],label:y("cause"),children:(0,M.jsx)(C.A.TextArea,{showCount:!0,maxLength:100,placeholder:y("cause")})}),(0,M.jsx)(g.A.Item,{name:"answer",label:y("answer"),rules:[{validator:(e,t)=>t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(y("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(y("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(y("required")))}],children:(0,M.jsx)(C.A.TextArea,{showCount:!0,maxLength:100,placeholder:y("answer")})})]})]})})})}var q=l(28645),H=l(28429),N=l(37694),B=l(99674);function O(e){let{data:t,handleCancel:l,statuses:a}=e;const{t:i}=(0,p.B)(),{activeMenu:s}=(0,u.d4)((e=>e.menu),u.bN),[o,d]=(0,n.useState)(!1),c=(0,u.wA)();return(0,M.jsx)(j.A,{visible:!!t,title:i("change.status"),onCancel:l,footer:[(0,M.jsx)(r.A,{onClick:l,children:i("cancel")}),(0,M.jsx)(r.A,{loading:o,type:"primary",form:"status",htmlType:"submit",children:i("change")},"pay-btn")],children:(0,M.jsx)(g.A,{initialValues:{status:null===t||void 0===t?void 0:t.status},onFinish:e=>{d(!0),z.s.changeStatus(null===t||void 0===t?void 0:t.id,e).then((()=>{l(),c((0,v.Ms)(s))})).finally((()=>d(!1)))},id:"status",layout:"vertical",children:(0,M.jsx)(g.A.Item,{label:i("status"),name:"status",children:(0,M.jsx)(B.A,{options:a.slice(1).map((e=>({label:i(e),value:e})))})})})})}var E=l(59051),F=l.n(E);const{TabPane:T}=a.A,D=["all","accepted","pending","canceled"];function Y(){var e;const{t:t}=(0,p.B)(),l=(0,u.wA)(),j=(0,H.Zp)(),{activeMenu:g}=(0,u.d4)((e=>e.menu),u.bN),[b,f]=(0,n.useState)("all"),w=(null===(e=g.data)||void 0===e?void 0:e.role)||b,C=g.data,_={sort:null===C||void 0===C?void 0:C.sort,column:null===C||void 0===C?void 0:C.column,perPage:null===C||void 0===C?void 0:C.perPage,page:null===C||void 0===C?void 0:C.page,status:"all"===b?void 0:w},{payoutRequests:k,meta:I,loading:S,params:z}=(0,u.d4)((e=>e.adminPayouts),u.bN),[V,B]=(0,n.useState)(null),[E,Y]=(0,n.useState)(null),[X,K]=(0,n.useState)([{title:t("user"),dataIndex:"createdBy",key:"createdBy",is_show:!0,render:e=>(0,M.jsx)("div",{className:"text-hover",onClick:()=>(e=>{l((0,v.X4)({url:"/users/user/".concat(e.uuid),id:"user_info",name:t("user.info")})),j("/users/user/".concat(e.uuid),{state:{user_id:e.id}})})(e),children:(null===e||void 0===e?void 0:e.firstname)+" "+(null===e||void 0===e?void 0:e.lastname)})},{title:t("price"),dataIndex:"price",key:"price",is_show:!0,render:(e,t)=>{var l,n;return(0,y.A)(e,null===t||void 0===t||null===(l=t.currency)||void 0===l?void 0:l.symbol,null===t||void 0===t||null===(n=t.currency)||void 0===n?void 0:n.position)}},{title:t("status"),dataIndex:"status",key:"status",is_show:!0,render:e=>(0,M.jsx)("div",{children:"pending"===e?(0,M.jsx)(i.A,{color:"blue",children:t(e)}):"canceled"===e?(0,M.jsx)(i.A,{color:"error",children:t(e)}):(0,M.jsx)(i.A,{color:"cyan",children:t(e)})})},{title:t("cause"),dataIndex:"cause",key:"cause",is_show:!0},{title:t("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:(e,t)=>F()(null===t||void 0===t?void 0:t.created_at).format("YYYY-MM-DD HH:mm")},{title:t("answer"),dataIndex:"answer",key:"answer",is_show:!0},{title:t("options"),dataIndex:"uuid",key:"uuid",is_show:!0,render:(e,l)=>(0,M.jsxs)(s.A,{children:[(0,M.jsx)(r.A,{type:"primary",icon:(0,M.jsx)(x.A,{}),onClick:()=>B(l)}),"accepted"!==l.status&&(0,M.jsx)(o.A,{title:t("change.status"),children:(0,M.jsx)(r.A,{onClick:()=>Y(l),icon:(0,M.jsx)(A.A,{})})})]})}]);(0,n.useEffect)((()=>{g.refetch&&(l((0,N.X)(_)),l((0,v.km)(g)))}),[g.refetch]),(0,h.A)((()=>{l((0,N.X)(_))}),[g.data]);return(0,M.jsxs)(d.A,{title:t("payout.requests"),extra:(0,M.jsxs)(s.A,{children:[(0,M.jsx)(r.A,{onClick:()=>B(!0),type:"primary",children:t("create.payout")}),(0,M.jsx)(q.A,{columns:X,setColumns:K})]}),children:[(0,M.jsx)(a.A,{className:"mt-3",activeKey:w,onChange:e=>{(e=>{const t=g.data;l((0,v.Ok)({activeMenu:g,data:{...t,...e}}))})({role:e,page:1}),f(e)},type:"card",children:D.map((e=>(0,M.jsx)(T,{tab:t(e)},e)))}),(0,M.jsx)(c.A,{scroll:{x:!0},columns:null===X||void 0===X?void 0:X.filter((e=>e.is_show)),dataSource:k,pagination:{pageSize:z.perPage,page:z.page,total:I.total,defaultCurrent:z.page},rowKey:e=>e.id,onChange:function(e,t,n){const{pageSize:a,current:i}=e,{field:s,order:r}=n,o=(0,m.A)(r);l((0,v.Ok)({activeMenu:g,data:{perPage:a,page:i,column:s,sort:o}}))},loading:S}),V&&(0,M.jsx)(P,{data:V,handleCancel:()=>B(null)}),E&&(0,M.jsx)(O,{data:E,statuses:D,handleCancel:()=>Y(null)})]})}},89323:(e,t,l)=>{l.d(t,{A:()=>o});var n=l(89379),a=l(9950);const i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var s=l(25085),r=function(e,t){return a.createElement(s.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:i}))};const o=a.forwardRef(r)}}]);