"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9676],{41064:(e,t,a)=>{function i(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(null===t||void 0===t||!t.translations)return{};const{translations:i}=t,l=(e,t)=>{const a=null===i||void 0===i?void 0:i.find((t=>(null===t||void 0===t?void 0:t.locale)===(null===e||void 0===e?void 0:e.locale)));return a||{[t]:""}},n=e.flatMap((e=>a.flatMap((t=>({["".concat(t,"[").concat(null===e||void 0===e?void 0:e.locale,"]")]:l(e,t)[t]})))));return Object.assign({},...n)}a.d(t,{A:()=>i})},99676:(e,t,a)=>{a.r(t),a.d(t,{default:()=>y});var i=a(9950),l=a(59233),n=a(23263),s=a(90650),o=a(49348),d=a(28429),r=a(71999),c=a(91854),u=a(74623),v=a(62572),g=a(70030),f=a(85427),p=a(62466),m=a(41064),h=a(31281),A=a(67658),b=a(44414);const y=()=>{const{t:e}=(0,g.B)(),t=(0,d.Zp)(),a=(0,c.wA)(),{activeMenu:y}=(0,c.d4)((e=>e.menu),c.bN),[k,j]=(0,i.useState)(!1),[x]=l.A.useForm(),[w,M]=(0,i.useState)(null),{uuid:N}=(0,d.g)(),{params:C}=(0,c.d4)((e=>e.careerCategory),c.bN),{languages:E}=(0,c.d4)((e=>e.formLang),c.bN);(0,i.useEffect)((()=>()=>{const e=x.getFieldsValue(!0);a((0,u.Ok)({activeMenu:y,data:e}))}),[]);return(0,i.useEffect)((()=>{var e;y.refetch&&(e=N,j(!0),v.A.getById(e).then((e=>{var t;let i=e.data;const l={...i,...(0,m.A)(E,i,["title","description"]),image:null!==i&&void 0!==i&&null!==(t=i.img)&&void 0!==t&&t.length?[(0,p.A)(null===i||void 0===i?void 0:i.img)]:[],keywords:i.keywords.split(",")};x.setFieldsValue(l),a((0,u.Ok)({activeMenu:y,data:l}))})).finally((()=>{j(!1),a((0,u.km)(y))})))}),[y.refetch]),(0,b.jsx)(n.A,{title:e("edit.career.category"),extra:(0,b.jsx)(r.A,{}),children:k?(0,b.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,b.jsx)(s.A,{size:"large",className:"mt-5 pt-5"})}):(0,b.jsx)(A.A,{form:x,handleSubmit:(i,l)=>{var n;const s={title:(0,h.A)(E,i),description:(0,h.A)(E,i,"description"),keywords:null===i||void 0===i||null===(n=i.keywords)||void 0===n?void 0:n.join(","),images:null===l||void 0===l?void 0:l.map((e=>null===e||void 0===e?void 0:e.name)),active:null!==i&&void 0!==i&&i.active?1:0,parent_id:void 0,type:"career"},d="catalog/career-categories";return v.A.update(N,s).then((()=>{o.oR.success(e("successfully.updated")),(0,c.vA)((()=>{a((0,u.EK)({...y,nextUrl:d})),a((0,f.b)(C))})),t("/".concat(d))})).catch((e=>M(e.response.data.params)))},error:w})})}}}]);