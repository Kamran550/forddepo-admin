(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7621],{85023:(e,t,l)=>{"use strict";l.d(t,{D:()=>d});var a=l(9950),i=l(99674),s=l(90650),n=l(44414);const d=e=>{let{fetchOptions:t,refetch:l=!1,...d}=e;const[o,r]=(0,a.useState)(!1),[u,c]=(0,a.useState)([]);return(0,n.jsx)(i.A,{labelInValue:!0,filterOption:!1,notFoundContent:o?(0,n.jsx)(s.A,{size:"small"}):"no results",...d,options:o?[]:u,onFocus:()=>{u.length&&!l||(r(!0),t().then((e=>{c(e),r(!1)})))}})}},65820:(e,t,l)=>{"use strict";l.d(t,{s:()=>n});var a=l(28429),i=l(21215),s=l.n(i);const n=()=>{const e=(0,a.Zp)(),t=(0,a.zy)(),l=s().parse(t.search,{ignoreQueryPrefix:!0});return{values:l,set:(t,a)=>e({search:s().stringify({...l,[t]:a})}),reset:t=>{const a={...l};a[t]&&delete a[t],e({search:s().stringify({...a})})},clear:()=>e({search:s().stringify({})}),merge:t=>e({search:s().stringify({...l,...t})}),get:e=>l[e],setMultiple:t=>{const a={...l,...t};e({search:s().stringify(a)})},resetMultiple:t=>{const a={...l};t.forEach((e=>{a[e]&&delete a[e]})),e({search:s().stringify(a)})}}}},3256:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>G});var a=l(9950),i=l(26405),s=l(86366),n=l(23263),d=l(90650),o=l(59233),r=l(80737),u=l(48538),c=l(20380),v=l(87094),p=l(41988),m=l(55902),h=l(12203),x=l(24513),A=l(44070),y=l(91854),k=l(71999),j=l(44414);function g(e){let{editData:t,handleCancel:l,editProperty:i}=e;const[s]=o.A.useForm(),{defaultLang:n,languages:d}=(0,y.d4)((e=>e.formLang),y.bN);return(0,a.useEffect)((()=>{s.setFieldsValue(t)}),[t]),(0,j.jsxs)(c.A,{title:"Edit product property",visible:!!t,okText:"Save",onCancel:l,onOk:()=>s.submit(),children:[(0,j.jsx)(v.A,{className:"mb-3",children:(0,j.jsx)(p.A,{span:24,children:(0,j.jsx)(k.A,{})})}),(0,j.jsx)(o.A,{form:s,layout:"vertical",onFinish:e=>{const l={...t,...e};i(l)},children:(0,j.jsxs)(v.A,{className:"mt-4",children:[(0,j.jsx)(p.A,{span:24,children:d.map((e=>(0,j.jsx)(o.A.Item,{label:"Key",name:"key[".concat(e.locale,"]"),rules:[{required:e.locale===n,message:""}],hidden:e.locale!==n,children:(0,j.jsx)(m.A,{})},"key"+e.locale)))}),(0,j.jsx)(p.A,{span:24,children:d.map((e=>(0,j.jsx)(o.A.Item,{label:"Value",name:"value[".concat(e.locale,"]"),rules:[{required:e.locale===n,message:""}],hidden:e.locale!==n,children:(0,j.jsx)(m.A,{})},"value"+e.locale)))})]})})]})}var f=l(74623),b=l(67231),q=l(70030),_=l(28429),N=l(35116);const C=e=>{var t;let{next:l,prev:i,isRequest:s,mode:d}=e;const{t:k}=(0,q.B)(),C=(0,y.wA)(),F=(0,_.zy)(),{uuid:w}=(0,_.g)(),I=(0,_.Zp)(),{activeMenu:S}=(0,y.d4)((e=>e.menu),y.bN),{defaultLang:O,languages:V}=(0,y.d4)((e=>e.formLang),y.bN),[E]=o.A.useForm(),[M,z]=(0,a.useState)(null),[W,R]=(0,a.useState)((null===(t=S.data)||void 0===t?void 0:t.properties)||[]),[L,B]=(0,a.useState)(!1),T=[{key:"2",title:k("key"),render:(e,t)=>t["key[".concat(O,"]")]},{key:"4",title:k("value"),render:(e,t)=>t["value[".concat(O,"]")]},{key:"5",title:k("options"),render:e=>(0,j.jsxs)(r.A,{children:[(0,j.jsx)(u.A,{type:"primary",icon:(0,j.jsx)(x.A,{}),onClick:()=>z(e)}),(0,j.jsx)(N.A,{type:"primary",danger:!0,icon:(0,j.jsx)(A.A,{}),onClick:()=>D(e)})]})}];(0,a.useEffect)((()=>{if(W.length&&w){const e=W;C((0,f.Ok)({activeMenu:S,data:{...S.data,properties:e}}))}}),[W]);const D=e=>{c.A.confirm({title:k("delete.product"),okText:k("yes"),okType:"danger",onOk:()=>{R((t=>t.filter((t=>t.id!==e.id))))}})},G=()=>z(null);return(0,j.jsxs)(n.A,{children:[(0,j.jsx)(o.A,{layout:"vertical",form:E,onFinish:e=>{const t={...e,id:parseInt(50*Math.random())};R((e=>[...e,t])),E.resetFields()},children:(0,j.jsxs)(v.A,{gutter:12,className:"mb-3",children:[(0,j.jsx)(p.A,{span:8,children:V.map((e=>(0,j.jsx)(o.A.Item,{name:"key[".concat(e.locale,"]"),rules:[{required:e.locale===O,message:""}],hidden:e.locale!==O,children:(0,j.jsx)(m.A,{placeholder:k("key")})},"key"+e.locale)))}),(0,j.jsx)(p.A,{span:8,children:V.map((e=>(0,j.jsx)(o.A.Item,{name:"value[".concat(e.locale,"]"),rules:[{required:e.locale===O,message:""}],hidden:e.locale!==O,children:(0,j.jsx)(m.A,{placeholder:k("value")})},"value"+e.locale)))}),(0,j.jsx)(p.A,{span:4,children:(0,j.jsx)(u.A,{type:"primary",htmlType:"submit",children:k("save")})})]})}),(0,j.jsx)(h.A,{scroll:{x:!0},columns:T,dataSource:W,pagination:!1,rowKey:e=>e.id}),(0,j.jsx)(g,{editData:M,handleCancel:G,editProperty:e=>{R((t=>t.map((t=>t.id===e.id?e:t)))),G()}}),(0,j.jsxs)(r.A,{className:"mt-4",children:[(0,j.jsx)(u.A,{onClick:i,children:k("prev")}),(0,j.jsx)(u.A,{type:"primary",onClick:function(){const e=function(){let e=[],t=[];return W.forEach((l=>{let a={},i={};V.forEach((e=>{a[e.locale]=l["key[".concat(e.locale,"]")],i[e.locale]=l["value[".concat(e.locale,"]")]})),e.push(a),t.push(i)})),{key:e,value:t}}();if(s)return C((0,f.Ok)({activeMenu:S,data:{...S.data,properties:W,props:e}})),void l();let t=F.state;if(F.state&&"edit"===d)return t.properties=W,t.props=e,void I("/seller/product/".concat(w,"?step=4"),{state:F.state});B(!0),b.A.properties(w,e).then((()=>{l()})).finally((()=>B(!1)))},loading:L,children:k("next")})]})]})};var F=l(62425),w=l(56952),I=l(40895),S=l(59621),O=l(85023),V=l(47992),E=l(45321),M=l(62545),z=l(34537);const W=e=>{var t;let{prev:l,next:i,isRequest:s,mode:d}=e;const{t:c}=(0,q.B)(),[h]=o.A.useForm(),x=(0,_.Zp)(),k=(0,y.wA)(),{uuid:g}=(0,_.g)(),{activeMenu:N}=(0,y.d4)((e=>e.menu),y.bN),{myShop:C}=(0,y.d4)((e=>e.myShop),y.bN),[F,W]=(0,a.useState)(null),R=(0,_.zy)(),{defaultLang:L}=(0,y.d4)((e=>e.formLang),y.bN),{settings:B}=(0,y.d4)((e=>e.globalSettings)),{defaultCurrency:T}=(0,y.d4)((e=>e.currency),y.bN),[D,G]=(0,a.useState)(null),[K,P]=(0,a.useState)([]);function Z(e){W(!0),b.A.getById(e).then((e=>{var t;!function(e,t){const l=(0,E.A)(e),a=l.map((e=>{var l,a;if(e.every((e=>"undefined"!==typeof e.stock_id))){var i;const l=null===t||void 0===t?void 0:t.find((t=>t.extras.every((t=>e.some((e=>e.value===t.id)))))),a=[];return null===l||void 0===l||null===(i=l.addons)||void 0===i||i.forEach((e=>{var t,l,i;e.product&&a.push({label:(null===e||void 0===e||null===(t=e.product)||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title)||(null===e||void 0===e?void 0:e.label),value:(null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.id)||(null===e||void 0===e?void 0:e.value)})})),{price:(null===l||void 0===l?void 0:l.price)||0,quantity:(null===l||void 0===l?void 0:l.quantity)||0,sku:null===l||void 0===l?void 0:l.sku,stock_id:null===l||void 0===l?void 0:l.id,tax:(null===N||void 0===N?void 0:N.data.tax)||0,addons:a,...Object.assign({},...e.map(((e,t)=>{var l;return{["extras[".concat(t,"]")]:{label:e.label,value:e.value,group:null===(l=e.group.translation)||void 0===l?void 0:l.title}}})))}}return{price:void 0,quantity:0,tax:(null===(l=N.data)||void 0===l?void 0:l.tax)||0,sku:null===N||void 0===N||null===(a=N.data)||void 0===a?void 0:a.sku,addons:[],...Object.assign({},...e.map(((e,t)=>({["extras[".concat(t,"]")]:{label:e.label,value:e.value}}))))}}));let i=[];if(0===l.length&&0!==(null===t||void 0===t?void 0:t.length)){var s,n;const e=null===t||void 0===t?void 0:t.at(0),l=[];null===e||void 0===e||null===(s=e.addons)||void 0===s||s.forEach((e=>{var t,a,i;e.product&&l.push({label:(null===e||void 0===e||null===(t=e.product)||void 0===t||null===(a=t.translation)||void 0===a?void 0:a.title)||(null===e||void 0===e?void 0:e.label),value:(null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.id)||(null===e||void 0===e?void 0:e.value)})})),i=[{price:(null===e||void 0===e?void 0:e.price)||0,quantity:(null===e||void 0===e?void 0:e.quantity)||0,sku:null===e||void 0===e?void 0:e.sku,tax:(null===(n=N.data)||void 0===n?void 0:n.tax)||0,addons:e?l:[]}]}var d,o;0===l.length&&0===(null===t||void 0===t?void 0:t.length)&&(i=[{price:void 0,quantity:0,sku:null===N||void 0===N||null===(d=N.data)||void 0===d?void 0:d.sku,tax:(null===(o=N.data)||void 0===o?void 0:o.tax)||0,addons:[]}]);const r=i.concat(a);P(t.map((e=>e.id))),h.setFieldsValue({stocks:r})}(null===N||void 0===N||null===(t=N.data.extras)||void 0===t?void 0:t.map((e=>e.values||[])),e.data.stocks)})).finally((()=>{W(!1)}))}const U=async e=>{const t={search:e,addon:1,shop_id:C.id,active:1,"statuses[0]":"published","statuses[1]":"pending"},l=await b.A.getAll(t).then((e=>e.data.map((e=>{var t;return{label:null===e||void 0===e||null===(t=e.translation)||void 0===t?void 0:t.title,value:null===e||void 0===e?void 0:e.id}}))))||[];return[{label:c("all.addons"),value:"all",key:"all"},...l]};(0,a.useEffect)((()=>{var e;if(s)if(null!==(e=R.state)&&void 0!==e&&e.generate){var t,l,a,i,n;const e=(0,E.A)(null===N||void 0===N||null===(t=N.data.extras)||void 0===t?void 0:t.map((e=>e.values||[]))),s=e.map((e=>{var t,l;if(e.every((e=>"undefined"!==typeof e.stock_id))){var a,i,s;const t=null===(a=N.data)||void 0===a||null===(i=a.actualStocks)||void 0===i?void 0:i.find((t=>t.extras.every((t=>e.some((e=>e.value===t.id)))))),l=[];return null===t||void 0===t||null===(s=t.addons)||void 0===s||s.forEach((e=>{var t,a,i;e.product&&l.push({label:(null===e||void 0===e||null===(t=e.product)||void 0===t||null===(a=t.translation)||void 0===a?void 0:a.title)||(null===e||void 0===e?void 0:e.label),value:(null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.id)||(null===e||void 0===e?void 0:e.value)})})),{price:(null===t||void 0===t?void 0:t.price)||0,quantity:(null===t||void 0===t?void 0:t.quantity)||0,stock_id:null===t||void 0===t?void 0:t.id,sku:null===t||void 0===t?void 0:t.sku,tax:(null===N||void 0===N?void 0:N.data.tax)||0,addons:l,...Object.assign({},...e.map(((e,t)=>({["extras[".concat(t,"]")]:{label:e.label,value:e.value,group:N.data.extras[t].label}}))))}}return{price:0,quantity:0,tax:(null===(t=N.data)||void 0===t?void 0:t.tax)||0,sku:null===N||void 0===N||null===(l=N.data)||void 0===l?void 0:l.sku,addons:[],...Object.assign({},...e.map(((e,t)=>({["extras[".concat(t,"]")]:{label:e.label,value:e.value}}))))}}));let v=[];if(0===e.length&&0!==(null===(l=N.data)||void 0===l||null===(a=l.actualStocks)||void 0===a?void 0:a.length)){var d,o,r;const e=null===(d=N.data.actualStocks)||void 0===d?void 0:d.at(0),t=[];null===e||void 0===e||null===(o=e.addons)||void 0===o||o.forEach((e=>{var l,a,i;e.product&&t.push({label:(null===e||void 0===e||null===(l=e.product)||void 0===l||null===(a=l.translation)||void 0===a?void 0:a.title)||(null===e||void 0===e?void 0:e.label),value:(null===e||void 0===e||null===(i=e.product)||void 0===i?void 0:i.id)||(null===e||void 0===e?void 0:e.value)})})),v=[{price:(null===e||void 0===e?void 0:e.price)||0,quantity:(null===e||void 0===e?void 0:e.quantity)||0,sku:null===e||void 0===e?void 0:e.sku,tax:(null===(r=N.data)||void 0===r?void 0:r.tax)||0,addons:e?t:[]}]}var u,c;if(0===(null===e||void 0===e?void 0:e.length)&&0===(null===(i=N.data)||void 0===i||null===(n=i.actualStocks)||void 0===n?void 0:n.length))v=[{price:void 0,quantity:0,sku:null===N||void 0===N||null===(u=N.data)||void 0===u?void 0:u.sku,tax:(null===(c=N.data)||void 0===c?void 0:c.tax)||0,addons:[]}];const p=v.concat(s);P(N.data.actualStocks.map((e=>e.id))),h.setFieldsValue({stocks:p})}else{var v;const e=N.data.stocks.map((e=>{var t;return{price:e.price||0,quantity:e.quantity||0,tax:N.data.tax,sku:e.sku,stock_id:e.stock_id,...Object.assign({},...null===(t=e.ids)||void 0===t?void 0:t.map(((e,t)=>({["extras[".concat(t,"]")]:{label:e.label,value:e.value,group:e.group}}))))}}));P((null===(v=N.data)||void 0===v?void 0:v.delete_ids)||[]),h.setFieldsValue({stocks:e})}else Z(g)}),[s,null===(t=R.state)||void 0===t?void 0:t.generate]);const Q=(e,t,l)=>e.map((e=>Object.assign(e,{[t]:l}))),X=(e,t)=>{const l=e?(0,z.A)(6):t,{stocks:a}=h.getFieldsValue();h.setFieldsValue({"set.all.sku":l,stock:Q(a,"sku",l)})};return(0,j.jsx)(n.A,{title:N.data&&N.data["title[".concat(L,"]")]?"".concat(N.data["title[".concat(L,"]")]):"",loading:!!F,children:(0,j.jsxs)(o.A,{layout:"vertical",form:h,onFinish:e=>{var t,l,a;G(!0);const{stocks:n}=e;let o,r=n.filter((e=>{var t,l;let{price:a,quantity:i}=e;return!(null!==N&&void 0!==N&&null!==(t=N.data)&&void 0!==t&&null!==(l=t.stocks)&&void 0!==l&&l.some((e=>{let{price:t,quantity:l}=e;return a===t||i===l})))}));var u;null===(t=N.data)||void 0===t||null===(l=t.extras)||void 0===l||!l.length?o=[{price:n[0].price,quantity:n[0].quantity,addons:n[0].addons?!(r.length>0||s||R.state)||null!==(u=R.state)&&void 0!==u&&u.create||"1"===(null===B||void 0===B?void 0:B.product_auto_approve)?n[0].addons.map((e=>e.value)):n[0].addons.map((e=>e)):[],stock_id:n[0].stock_id,sku:n[0].sku}]:o=n.map((e=>{var t,l,a,i,n,d;return{price:e.price,quantity:e.quantity,ids:!(r.length>0||s||R.state)||null!==(t=R.state)&&void 0!==t&&t.create||"0"!==(null===B||void 0===B?void 0:B.product_auto_approve)?null===(a=N.data)||void 0===a?void 0:a.extras.map(((t,l)=>e["extras[".concat(l,"]")].value)):null===(l=N.data)||void 0===l?void 0:l.extras.map(((t,l)=>e["extras[".concat(l,"]")])),addons:e.addons?!(r.length>0||s||R.state)||null!==(i=R.state)&&void 0!==i&&i.create||"1"===(null===B||void 0===B?void 0:B.product_auto_approve)?null===(d=e.addons)||void 0===d?void 0:d.map((e=>e.value)):null===(n=e.addons)||void 0===n?void 0:n.map((e=>e)):[],stock_id:e.stock_id,sku:e.sku}}));const c=K.filter(((e,t)=>{var l;return(null===(l=n[t])||void 0===l?void 0:l.stock_id)&&!n.some((t=>(null===t||void 0===t?void 0:t.stock_id)===e))}));let v=R.state;return s?(k((0,f.Ok)({activeMenu:N,data:{...N.data,stocks:o,delete_ids:c}})),void i()):!(r.length>0||R.state)||"edit"!==d||null!==(a=R.state)&&void 0!==a&&a.create||"0"!==(null===B||void 0===B?void 0:B.product_auto_approve)?void b.A.stocks(g,{extras:o,delete_ids:c}).then((()=>i())).finally((()=>G(!1))):(R.state?(v.stocks=o,v.delete_ids=c):v={...N.data,stocks:o,delete_ids:c},void x("/seller/product/".concat(g,"?step=3"),{state:v}))},children:[(0,j.jsxs)(v.A,{gutter:12,align:"middle",children:[(0,j.jsx)(p.A,{span:5,style:{marginRight:"10px"},children:(0,j.jsx)(o.A.Item,{label:c("sku"),name:"set.all.sku",children:(0,j.jsx)(m.A,{className:"w-100",onChange:e=>X(!1,e.target.value)})})}),(0,j.jsx)(p.A,{children:(0,j.jsx)(o.A.Item,{label:" ",name:"sku",children:(0,j.jsx)(u.A,{icon:(0,j.jsx)(M.A,{}),onClick:()=>X(!0)})})}),(0,j.jsx)(p.A,{span:4,children:(0,j.jsx)(o.A.Item,{label:c("price"),name:"set.all.price",rules:[{type:"number",min:0,message:c("must.be.positive.number")}],children:(0,j.jsx)(w.A,{className:"w-100",onChange:function(e){const{stocks:t}=h.getFieldsValue();h.setFieldsValue({stocks:Q(t,"price",e)})}})})}),(0,j.jsx)(p.A,{span:4,children:(0,j.jsx)(o.A.Item,{label:c("quantity"),name:"set.all.quantity",rules:[{type:"number",min:0,message:c("must.be.positive.number")}],children:(0,j.jsx)(w.A,{className:"w-100",onChange:function(e){const{stocks:t}=h.getFieldsValue();h.setFieldsValue({stocks:Q(t,"quantity",e)})}})})}),(0,j.jsx)(p.A,{children:(0,j.jsx)(o.A.Item,{label:c("addons"),name:"addons",children:(0,j.jsx)(V.G,{mode:"multiple",style:{minWidth:"300px"},fetchOptions:U,allowClear:!0,onChange:function(e){const{stocks:t}=h.getFieldsValue();h.setFieldsValue({stocks:Q(t,"addons",e)})}})})})]}),(0,j.jsx)(I.A,{}),(0,j.jsx)("h2",{children:c("values")}),(0,j.jsx)(o.A.List,{name:"stocks",children:(e,t)=>{let{remove:l}=t;return(0,j.jsx)("div",{children:e.map(((e,t)=>{var a,i,s,n;return(0,j.jsxs)(v.A,{gutter:12,align:"middle",style:{flexWrap:"nowrap",overflowX:"auto"},hidden:!(null!==(a=N.data)&&void 0!==a&&null!==(i=a.extras)&&void 0!==i&&i.length)&&e.key,children:[null===(s=N.data)||void 0===s||null===(n=s.extras)||void 0===n?void 0:n.map(((e,l)=>(0,j.jsx)(p.A,{children:(0,j.jsx)(o.A.Item,{label:null===e||void 0===e?void 0:e.label,name:[t,"extras[".concat(l,"]")],rules:[{required:!0,message:c("required")}],children:(0,j.jsx)(O.D,{fetchOptions:()=>{return t=e.value,S.A.getGroupById(t).then((e=>e.data.extra_values.map((e=>({label:e.value,value:e.id})))));var t},className:"w-100",disabled:!0,style:{minWidth:200}})})},"extra"+e.value))),(0,j.jsx)(p.A,{children:(0,j.jsx)(o.A.Item,{label:c("addons"),name:[t,"addons"],rules:[{required:!1,message:c("required")}],children:(0,j.jsx)(V.G,{mode:"multiple",style:{minWidth:"300px"},fetchOptions:U,allowClear:!0})})}),(0,j.jsx)(p.A,{children:(0,j.jsx)(o.A.Item,{label:c("sku"),name:[t,"sku"],children:(0,j.jsx)(m.A,{className:"w-100",style:{minWidth:200}})})}),(0,j.jsx)(p.A,{children:(0,j.jsx)(o.A.Item,{label:c("quantity"),name:[t,"quantity"],rules:[{required:!0,message:c("required")}],children:(0,j.jsx)(w.A,{min:0,className:"w-100",style:{minWidth:200}})})}),(0,j.jsx)(p.A,{children:(0,j.jsx)(o.A.Item,{label:"".concat(c("price")," (").concat(null===T||void 0===T?void 0:T.symbol,")"),name:[t,"price"],rules:[{required:!0,message:c("requried")}],children:(0,j.jsx)(w.A,{min:0,className:"w-100",style:{minWidth:200}})})}),(0,j.jsxs)(p.A,{children:[(0,j.jsx)(o.A.Item,{label:c("tax"),name:[t,"tax"],children:(0,j.jsx)(w.A,{className:"w-100",disabled:!0,style:{minWidth:200},addonAfter:"%"})}),(0,j.jsx)(o.A.Item,{hidden:!0,label:c("id"),name:[t,"stock_id"],children:(0,j.jsx)(w.A,{className:"w-100",disabled:!0,style:{minWidth:200},addonAfter:"%"})})]})," ",(0,j.jsx)(p.A,{children:(0,j.jsx)(o.A.Item,{noStyle:!0,shouldUpdate:(t,l)=>t.stocks[e.name].price!==l.stocks[e.name].price,children:t=>{let{getFieldValue:l}=t;const a=l(["stocks",e.name,"tax"])||0,i=l(["stocks",e.name,"price"]),s=0===a?i:i*a/100+i;return(0,j.jsx)(o.A.Item,{label:"".concat(c("total.price")," (").concat(null===T||void 0===T?void 0:T.symbol,")"),children:(0,j.jsx)(w.A,{min:1,disabled:!0,value:s,className:"w-100",style:{minWidth:200}})})}})}),(0,j.jsx)(p.A,{children:e.key?(0,j.jsx)(u.A,{type:"primary",className:"mt-2",danger:!0,icon:(0,j.jsx)(A.A,{}),onClick:()=>{l(e.name)}}):""})]},e.key)}))})}}),(0,j.jsxs)(r.A,{className:"mt-4",children:[(0,j.jsx)(u.A,{onClick:l,children:c("prev")}),(0,j.jsx)(u.A,{type:"primary",htmlType:"submit",loading:!!D,children:c("next")})]})]})})};var R=l(76092),L=l(34293),B=l(65820),T=l(8228);const{Step:D}=s.A,G=()=>{var e;const{t:t}=(0,q.B)(),{id:l}=(0,_.g)(),o=(0,B.s)(),{activeMenu:r}=(0,y.d4)((e=>e.menu),y.bN),u=(0,y.wA)(),c=Number((null===(e=o.values)||void 0===e?void 0:e.step)||0),[v,p]=(0,a.useState)(r.refetch),m=()=>{const e=c+1;o.set("step",e)},h=()=>{const e=c-1;o.set("step",e)};(0,a.useEffect)((()=>{var e;r.refetch&&(e=l,p(!0),T.A.getById(e).then((e=>{var t,l;let a=e.data.data;u((0,f.Ok)({activeMenu:r,data:{...a,request_id:e.data.id,actualStocks:null===(t=e.data.model)||void 0===t?void 0:t.stocks,model_id:null===(l=e.data.model)||void 0===l?void 0:l.id,model:e.data.model}}))})).finally((()=>{p(!1),u((0,f.km)(r))})))}),[r.refetch]);return(0,a.useEffect)((()=>()=>{u((0,f.EK)({...r,nextUrl:"seller/products"}))}),[]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(n.A,{title:t("edit.food"),extra:(0,j.jsx)(k.A,{}),children:(0,j.jsx)(s.A,{current:c,onChange:e=>{u((0,f.Ok)({activeMenu:r,data:{...r.data,step:e}})),o.set("step",e)},children:i.C.map((e=>(0,j.jsx)(D,{title:t(e.title)},e.title)))})}),v?(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,j.jsx)(d.A,{size:"large",className:"py-5"})}):(0,j.jsxs)("div",{className:"",children:["First-content"===i.C[c].content&&(0,j.jsx)(L.A,{isRequest:!0,next:m,action_type:"edit"}),"Second-content"===i.C[c].content&&(0,j.jsx)(R.A,{isRequest:!0,next:m,prev:h}),"Third-content"===i.C[c].content&&(0,j.jsx)(W,{isRequest:!0,next:m,prev:h}),"Fourth-content"===i.C[c].content&&(0,j.jsx)(C,{isRequest:!0,next:m,prev:h}),"Finish-content"===i.C[c].content&&(0,j.jsx)(F.A,{isRequest:!0,prev:h})]})]})}},62545:(e,t,l)=>{"use strict";l.d(t,{A:()=>o});var a=l(89379),i=l(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 693.2c-42.5-24.6-94.3-18-129.2 12.8l-53-30.7V523.6c0-15.7-8.4-30.3-22-38.1l-136-78.3v-67.1c44.2-15 76-56.8 76-106.1 0-61.9-50.1-112-112-112s-112 50.1-112 112c0 49.3 31.8 91.1 76 106.1v67.1l-136 78.3c-13.6 7.8-22 22.4-22 38.1v151.6l-53 30.7c-34.9-30.8-86.8-37.4-129.2-12.8-53.5 31-71.7 99.4-41 152.9 30.8 53.5 98.9 71.9 152.2 41 42.5-24.6 62.7-73 53.6-118.8l48.7-28.3 140.6 81c6.8 3.9 14.4 5.9 22 5.9s15.2-2 22-5.9L674.5 740l48.7 28.3c-9.1 45.7 11.2 94.2 53.6 118.8 53.3 30.9 121.5 12.6 152.2-41 30.8-53.6 12.6-122-40.7-152.9zm-673 138.4a47.6 47.6 0 01-65.2-17.6c-13.2-22.9-5.4-52.3 17.5-65.5a47.6 47.6 0 0165.2 17.6c13.2 22.9 5.4 52.3-17.5 65.5zM522 463.8zM464 234a48.01 48.01 0 0196 0 48.01 48.01 0 01-96 0zm170 446.2l-122 70.3-122-70.3V539.8l122-70.3 122 70.3v140.4zm239.9 133.9c-13.2 22.9-42.4 30.8-65.2 17.6-22.8-13.2-30.7-42.6-17.5-65.5s42.4-30.8 65.2-17.6c22.9 13.2 30.7 42.5 17.5 65.5z"}}]},name:"deployment-unit",theme:"outlined"};var n=l(25085),d=function(e,t){return i.createElement(n.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:s}))};const o=i.forwardRef(d)},42634:()=>{}}]);