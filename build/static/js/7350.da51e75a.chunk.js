"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7350],{97350:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var i=a(9950),s=a(59233),r=a(23263),l=a(90650),n=a(49348),d=a(28429),c=a(91854),u=a(74623),m=a(63620),o=a(70030),v=a(14056),h=a(59759),b=a(17696),j=a(44414);const A=()=>{const{t:e}=(0,o.B)(),{activeMenu:t}=(0,c.d4)((e=>e.menu),c.bN),{id:a}=(0,d.g)(),A=(0,c.wA)(),{params:g}=(0,c.d4)((e=>e.brand),c.bN),[f]=s.A.useForm(),p=(0,d.Zp)(),[x,y]=(0,i.useState)(!1);(0,i.useEffect)((()=>()=>{const e=f.getFieldsValue(!0);A((0,u.Ok)({activeMenu:t,data:e}))}),[]);return(0,i.useEffect)((()=>{t.refetch&&(e=>{y(!0),v.A.getById(e).then((e=>{let a=e.data;const i={...a,image:[(s=a.img,{name:s,url:m.sE+s})]};var s;f.setFieldsValue(i),A((0,u.Ok)({activeMenu:t,data:i}))})).finally((()=>{y(!1),A((0,u.km)(t))}))})(a)}),[t.refetch]),(0,j.jsx)(r.A,{title:e("edit.brand"),children:x?(0,j.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,j.jsx)(l.A,{size:"large",className:"py-5"})}):(0,j.jsx)(b.A,{form:f,handleSubmit:(i,s)=>{var r;const l={...i,active:i.active?1:0,"images[0]":null===(r=s[0])||void 0===r?void 0:r.name},d={...g},m="seller/brands";return v.A.update(a,l).then((()=>{n.oR.success(e("successfully.updated")),(0,c.vA)((()=>{A((0,u.EK)({...t,nextUrl:m})),A((0,h.w1)(d))})),p("/".concat(m))}))}})})}},17696:(e,t,a)=>{a.d(t,{A:()=>h});var i=a(9950),s=a(59233),r=a(87094),l=a(41988),n=a(55902),d=a(25933),c=a(48538),u=a(48970),m=a(91854),o=a(70030),v=a(44414);function h(e){var t,a;let{form:h,handleSubmit:b}=e;const{t:j}=(0,o.B)(),{activeMenu:A}=(0,m.d4)((e=>e.menu),m.bN),[g,f]=(0,i.useState)(null!==(t=A.data)&&void 0!==t&&t.image?null===(a=A.data)||void 0===a?void 0:a.image:[]),[p,x]=(0,i.useState)(!1);return(0,v.jsxs)(s.A,{name:"basic",layout:"vertical",onFinish:e=>{x(!0),b(e,g).finally((()=>x(!1)))},form:h,initialValues:{active:!0,...A.data},children:[(0,v.jsxs)(r.A,{gutter:12,children:[(0,v.jsx)(l.A,{span:12,children:(0,v.jsx)(s.A.Item,{label:j("title"),name:"title",rules:[{validator:(e,t)=>t?t&&""===(null===t||void 0===t?void 0:t.trim())?Promise.reject(new Error(j("no.empty.space"))):t&&(null===t||void 0===t?void 0:t.trim().length)<2?Promise.reject(new Error(j("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(j("required")))}],children:(0,v.jsx)(n.A,{})})}),(0,v.jsx)(l.A,{span:6,children:(0,v.jsx)(s.A.Item,{label:j("image"),name:"images",rules:[{validator:()=>0===(null===g||void 0===g?void 0:g.length)?Promise.reject(new Error(j("required"))):Promise.resolve()}],children:(0,v.jsx)(u.A,{type:"brands",imageList:g,setImageList:f,form:h,multiple:!1})})}),(0,v.jsx)(l.A,{span:6,children:(0,v.jsx)("div",{className:"col-md-12 col-sm-6",children:(0,v.jsx)(s.A.Item,{label:j("active"),name:"active",valuePropName:"checked",children:(0,v.jsx)(d.A,{})})})})]}),(0,v.jsx)(c.A,{type:"primary",htmlType:"submit",loading:p,children:j("submit")})]})}}}]);