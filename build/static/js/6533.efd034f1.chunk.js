"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[6533],{76533:(e,a,t)=>{t.r(a),t.d(a,{default:()=>b});var d=t(9950),l=t(23263),i=t(48538),n=t(91854),s=t(70030),o=t(72540),u=t(9313),c=t(88349),p=t(82371);const r={upload:e=>p.A.post("dashboard/admin/project-upload",e),update:e=>p.A.post("dashboard/admin/project-update",e)};var h=t(74623),m=t(49348),f=t(44414);function b(){const[e,a]=(0,d.useState)(!1),t=(0,n.wA)(),{t:p}=(0,s.B)(),{activeMenu:b}=(0,n.d4)((e=>e.menu),n.bN),g=e=>({uid:e.title,name:e.title,status:"done",url:e.title,created:!0});return(0,f.jsx)(l.A,{title:p("update"),extra:(0,f.jsx)(i.A,{type:"primary",icon:(0,f.jsx)(u.A,{}),loading:e,onClick:()=>{a(!0),r.update().then((()=>m.oR.success(p("successfully.updated")))).finally((()=>a(!1)))},children:p("update.database")}),children:(0,f.jsxs)(o.A,{name:"file",multiple:!1,maxCount:1,customRequest:e=>{let{file:a,onSuccess:d}=e;const l=new FormData;l.append("file",a),r.upload(l).then((e=>{let{data:a}=e;t((0,h.Ok)({activeMenu:b,data:g(a)})),d("ok")}))},defaultFileList:null!==b&&void 0!==b&&b.data?[null===b||void 0===b?void 0:b.data]:null,beforeUpload:e=>{const a="image/png"===e.type,t="image/jpg"===e.type,d="image/jpeg"===e.type;if(a||d||t)return m.oR.error("".concat(e.name," is not valid file")),!1},children:[(0,f.jsx)("p",{className:"ant-upload-drag-icon",children:(0,f.jsx)(c.A,{})}),(0,f.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,f.jsx)("p",{className:"ant-upload-hint",children:"In order to update database using this file you need to click button above"})]})})}}}]);