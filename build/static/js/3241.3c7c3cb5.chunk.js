"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3241],{21777:(e,t,s)=>{s.d(t,{A:()=>a});s(9950);var l=s(20380),n=s(32312),i=s(48538),r=s(70030),o=s(44414);const a=e=>{let{open:t,handleCancel:s,text:a,click:d,loading:c,subTitle:u}=e;const{t:h}=(0,r.B)();return(0,o.jsxs)(l.A,{closable:!1,visible:t,footer:null,centered:!0,children:[(0,o.jsx)(n.Ay,{status:"warning",title:a,subTitle:u}),(0,o.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,o.jsx)(i.A,{type:"primary",className:"mr-2",onClick:d,loading:c,children:h("yes")}),(0,o.jsx)(i.A,{onClick:()=>s(),children:h("no")})]})]})}},3241:(e,t,s)=>{s.r(t),s.d(t,{default:()=>I});var l=s(9950),n=s(12678),i=s(44070),r=s(29633),o=s(80737),a=s(48538),d=s(23263),c=s(12203),u=s(49348),h=s(76083),x=s(55386),p=s(91854),v=s(74623),g=s(88986),m=s(8168),f=s(70030),A=s(12408),j=s(25966),k=s(18583),y=s(59051),w=s.n(y),C=s(28429),b=s(35116),_=s(28645),S=s(21777),Y=s(44414);function I(){const{t:e}=(0,f.B)(),t=(0,p.wA)(),s=(0,C.Zp)(),[y,I]=(0,l.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:l=>(0,Y.jsxs)("div",{className:"text-hover",onClick:()=>(l=>{t((0,v.X4)({id:"order_details",url:"order/details/".concat(l),name:e("order.details")})),s("/order/details/".concat(l))})(l.id),children:["#",l.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:l=>(0,Y.jsxs)("div",{className:"text-hover",onClick:()=>{return n=l,t((0,v.X4)({url:"/users/user/".concat(n.uuid),id:"user_info",name:e("user.info")})),void s("/users/user/".concat(n.uuid),{state:{user_id:n.id}});var n},children:[null===l||void 0===l?void 0:l.firstname," ",(null===l||void 0===l?void 0:l.lastname)||""]})},{title:e("shop"),dataIndex:"shop",key:"shop",is_show:!0,render:l=>{var n;return(0,Y.jsx)("div",{className:"text-hover",onClick:()=>{return n=l,t((0,v.X4)({id:"edit-shop",url:"shop/".concat(n.uuid),name:e("edit.shop")})),void s("/shop/".concat(n.uuid));var n},children:null===l||void 0===l||null===(n=l.translation)||void 0===n?void 0:n.title})}},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,Y.jsx)(r.A,{disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>w()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,Y.jsxs)(o.A,{children:[(0,Y.jsx)(a.A,{type:"primary",icon:(0,Y.jsx)(n.A,{}),onClick:()=>P(t.id)}),(0,Y.jsx)(b.A,{icon:(0,Y.jsx)(i.A,{}),onClick:()=>{R([t.id]),N(!0),D(!0)}})]})}]),{setIsModalVisible:N}=(0,l.useContext)(x.o),[M,R]=(0,l.useState)(null),[T,P]=(0,l.useState)(null),[z,X]=(0,l.useState)(!1),[B,D]=(0,l.useState)(null),[H,O]=(0,l.useState)(null),{activeMenu:V}=(0,p.d4)((e=>e.menu),p.bN),{reviews:E,meta:K,loading:Z,params:q}=(0,p.d4)((e=>e.orderReview),p.bN);console.log("reviews => ",E);(0,l.useEffect)((()=>{V.refetch&&(t((0,j.gY)()),t((0,v.km)(V)))}),[V.refetch]),(0,g.A)((()=>{const e=V.data,s={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};t((0,j.gY)(s))}),[V.data]);const F={id:M,onChange:e=>{R(e)}};return(0,Y.jsxs)(d.A,{title:e("order.reviews"),extra:(0,Y.jsxs)(o.A,{wrap:!0,children:[(0,Y.jsx)(b.A,{size:"",onClick:()=>{null===M||0===M.length?u.oR.warning(e("select.the.product")):(N(!0),D(!1))},children:e("delete.selected")}),(0,Y.jsx)(_.A,{columns:y,setColumns:I})]}),children:[(0,Y.jsx)(c.A,{scroll:{x:!0},rowSelection:F,columns:null===y||void 0===y?void 0:y.filter((e=>e.is_show)),dataSource:E,pagination:{pageSize:q.perPage,page:q.page,total:K.total,defaultCurrent:q.page},rowKey:e=>e.id,onChange:function(e,s,l){const{pageSize:n,current:i}=e,{field:r,order:o}=l,a=(0,m.A)(o);t((0,v.Ok)({activeMenu:V,data:{perPage:n,page:i,column:r,sort:a}}))},loading:Z}),(0,Y.jsx)(h.A,{click:()=>{X(!0);const s={...Object.assign({},...M.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};A.A.delete(s).then((()=>{u.oR.success(e("successfully.deleted")),t((0,j.gY)()),N(!1)})).finally((()=>X(!1)))},text:e(B?"delete":"all.delete"),setText:R,loading:z}),T&&(0,Y.jsx)(k.A,{id:T,handleCancel:()=>P(null)}),H&&(0,Y.jsx)(S.A,{open:H,handleCancel:()=>O(null),click:H.restore?()=>{X(!0),A.A.restoreAll().then((()=>{u.oR.success(e("successfully.restored")),t((0,j.gY)()),O(null)})).finally((()=>X(!1)))}:()=>{X(!0),A.A.dropAll().then((()=>{u.oR.success(e("successfully.deleted")),t((0,j.gY)()),O(null)})).finally((()=>X(!1)))},text:H.restore?e("restore.modal.text"):e("read.carefully"),subTitle:H.restore?"":e("confirm.deletion"),loading:z,setText:R})]})}}}]);