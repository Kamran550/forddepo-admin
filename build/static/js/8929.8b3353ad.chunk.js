"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[8929],{28645:(e,t,n)=>{n.d(t,{A:()=>p});var a=n(9950),l=n(66362),s=n(69216),o=n(80737),i=n(25933),d=n(57811),r=n(81541),c=n(48538),u=n(89323),v=n(70030),h=n(44414);const{Text:m}=l.A,p=e=>{let{columns:t=[],setColumns:n,style:l,size:p="",iconOnly:x}=e;const{t:A}=(0,v.B)(),[f,j]=(0,a.useState)(!1),g=(0,h.jsx)(s.A,{children:null===t||void 0===t?void 0:t.map(((e,a)=>(0,h.jsx)(s.A.Item,{children:(0,h.jsxs)(o.A,{className:"d-flex justify-content-between",children:[(0,h.jsx)(m,{children:e.title}),(0,h.jsx)(i.A,{defaultChecked:!0,onClick:()=>function(e){const a=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));n(a)}(e),disabled:1===a})]})},e+a)))});return(0,h.jsx)(d.A,{overlay:g,trigger:["click"],onVisibleChange:e=>{j(e)},visible:f,children:(0,h.jsx)(r.A,{title:A("change.columns"),children:(0,h.jsx)(c.A,{style:{...l},size:p,icon:(0,h.jsx)(u.A,{}),children:x?null:A("Columns")})})})}},47992:(e,t,n)=>{n.d(t,{G:()=>r});var a=n(9950),l=n(95491),s=n.n(l),o=n(99674),i=n(90650),d=n(44414);const r=e=>{let{fetchOptions:t,debounceTimeout:n=400,onClear:l,...r}=e;const[c,u]=(0,a.useState)(!1),[v,h]=(0,a.useState)([]),m=(0,a.useMemo)((()=>s()((e=>{h([]),u(!0),t(e).then((e=>{h(e),u(!1)}))}),n)),[t,n]);return(0,d.jsx)(o.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:m,onClear:()=>{m(""),l&&l()},notFoundContent:c?(0,d.jsx)(i.A,{size:"small"}):"no results",...r,options:v,onFocus:()=>{m("")}})}},8168:(e,t,n)=>{function a(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}n.d(t,{A:()=>a})},53774:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(83291);function l(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1?arguments[1]:void 0,s=arguments.length>2?arguments[2]:void 0;const o=null===(e=a.M.getState())||void 0===e||null===(t=e.currency)||void 0===t?void 0:t.defaultCurrency,i=Number(n).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),d=l||(null===o||void 0===o?void 0:o.symbol)||"$";return"after"===(s||(null===o||void 0===o?void 0:o.position)||"before")?"".concat(i," ").concat(d):"".concat(d," ").concat(i)}},48929:(e,t,n)=>{n.r(t),n.d(t,{default:()=>V});var a=n(9950),l=n(54909),s=n(12916),o=n(48538),i=n(23263),d=n(80737),r=n(12203),c=n(12678),u=n(91854),v=n(74623),h=n(70030),m=n(88986),p=n(8168),x=n(47992),A=n(53271),f=n(63242),j=n(20380),g=n(91524),y=n(81446),b=n(92270),_=n(53774),C=n(59051),I=n.n(C),w=n(44414);function k(e){var t,n,l;let{id:i,handleCancel:d}=e;const{defaultCurrency:r}=(0,u.d4)((e=>e.currency),u.bN),[c,v]=(0,a.useState)({}),[m,p]=(0,a.useState)(!1),{t:x}=(0,h.B)();return(0,a.useEffect)((()=>{!function(e){p(!0),b.A.getById(e).then((e=>v(e.data))).finally((()=>p(!1)))}(i)}),[i]),(0,w.jsx)(j.A,{visible:!!i,title:x("transaction"),onCancel:d,footer:(0,w.jsx)(o.A,{type:"default",onClick:d,children:x("cancel")}),children:m?(0,w.jsx)(y.A,{}):(0,w.jsxs)(g.A,{bordered:!0,children:[(0,w.jsx)(g.A.Item,{span:3,label:x("transaction.id"),children:c.id}),(0,w.jsxs)(g.A.Item,{span:3,label:x("client"),children:[null===(t=c.user)||void 0===t?void 0:t.firstname," ",(null===(n=c.user)||void 0===n?void 0:n.lastname)||""]}),(0,w.jsx)(g.A.Item,{span:3,label:x("price"),children:(0,_.A)(c.price,null===r||void 0===r?void 0:r.symbol,null===r||void 0===r?void 0:r.position)}),(0,w.jsx)(g.A.Item,{span:3,label:x("payment.type"),children:x(null===(l=c.payment_system)||void 0===l?void 0:l.tag)}),(0,w.jsx)(g.A.Item,{span:3,label:x("created.at"),children:I()(null===c||void 0===c?void 0:c.created_at).format("YYYY-MM-DD HH:mm")}),(0,w.jsx)(g.A.Item,{span:3,label:x("status"),children:"progress"===c.status?(0,w.jsx)(s.A,{color:"gold",children:x(c.status)}):"rejected"===c.status?(0,w.jsx)(s.A,{color:"error",children:x(c.status)}):(0,w.jsx)(s.A,{color:"cyan",children:x(c.status)})}),(0,w.jsx)(g.A.Item,{span:3,label:x("status.description"),children:c.status_description}),(0,w.jsx)(g.A.Item,{span:3,label:x("note"),children:c.note})]})})}var z=n(28645);const{TabPane:S}=l.A,H=["all","progress","paid","rejected"];function V(){var e,t,n,j;const g=(0,u.wA)(),{t:y}=(0,h.B)(),{defaultCurrency:b}=(0,u.d4)((e=>e.currency),u.bN),[C,V]=(0,a.useState)(null),[M,Y]=(0,a.useState)([{title:y("id"),dataIndex:"id",key:"id",sorter:!0,is_show:!0},{title:y("client"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,w.jsxs)("div",{children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:y("amount"),dataIndex:"price",key:"price",is_show:!0,render:(e,t)=>(0,_.A)(e,null===b||void 0===b?void 0:b.symbol,null===b||void 0===b?void 0:b.position)},{title:y("payment.type"),dataIndex:"payment_system",key:"payment_system",is_show:!0,render:e=>null===e||void 0===e?void 0:e.tag},{title:y("status"),dataIndex:"status",key:"status",is_show:!0,render:e=>(0,w.jsx)("div",{children:"progress"===e?(0,w.jsx)(s.A,{color:"gold",children:y(e)}):"rejected"===e?(0,w.jsx)(s.A,{color:"error",children:y(e)}):(0,w.jsx)(s.A,{color:"cyan",children:y(e)})})},{title:y("status.note"),dataIndex:"status_description",key:"status_description",is_show:!0},{title:y("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:(e,t)=>I()(null===t||void 0===t?void 0:t.created_at).format("YYYY-MM-DD HH:mm")},{title:y("options"),key:"options",is_show:!0,render:(e,t)=>(0,w.jsx)(o.A,{icon:(0,w.jsx)(c.A,{}),onClick:()=>(e=>{V(e.id)})(t)})}]),{activeMenu:N}=(0,u.d4)((e=>e.menu),u.bN),[O,P]=(0,a.useState)("all"),{transactions:B,meta:D,loading:E,params:F}=(0,u.d4)((e=>e.transaction),u.bN),T=(null===(e=N.data)||void 0===e?void 0:e.role)||O,G=N.data,K={sort:null===G||void 0===G?void 0:G.sort,column:null===G||void 0===G?void 0:G.column,perPage:null===G||void 0===G?void 0:G.perPage,page:null===G||void 0===G?void 0:G.page,user_id:null===G||void 0===G?void 0:G.userId,status:"all"===(null===G||void 0===G?void 0:G.role)||null===G||void 0===G?void 0:G.role};(0,m.A)((()=>{g((0,f.mh)(K))}),[N.data]),(0,a.useEffect)((()=>{N.refetch&&(g((0,f.mh)(F)),g((0,v.km)(N)))}),[N.refetch]);const $=e=>{const t=N.data;g((0,v.Ok)({activeMenu:N,data:{...t,...e}}))};return(0,w.jsxs)(i.A,{title:y("transactions"),extra:(0,w.jsxs)(d.A,{wrap:!0,children:[(0,w.jsx)(x.G,{placeholder:y("select.client"),fetchOptions:async function(e){const t={search:e,perPage:10};return A.A.search(t).then((e=>{let{data:t}=e;return t.map((e=>({label:"".concat(e.firstname," ").concat(e.lastname),value:e.id})))}))},onSelect:e=>$({userId:e.value}),onDeselect:()=>$({userId:null}),style:{minWidth:200}}),(0,w.jsx)(z.A,{columns:M,setColumns:Y})]}),children:[(0,w.jsx)(l.A,{onChange:e=>{$({role:e,page:1}),P(e)},type:"card",activeKey:T,children:H.map((e=>(0,w.jsx)(S,{tab:y(e)},e)))}),(0,w.jsx)(r.A,{scroll:{x:!0},columns:null===M||void 0===M?void 0:M.filter((e=>e.is_show)),dataSource:B,loading:E,pagination:{pageSize:F.perPage,page:(null===(t=N.data)||void 0===t?void 0:t.page)||1,total:D.total,defaultCurrent:null===(n=N.data)||void 0===n?void 0:n.page,current:null===(j=N.data)||void 0===j?void 0:j.page},rowKey:e=>e.id,onChange:function(e,t,n){const{pageSize:a,current:l}=e,{field:s,order:o}=n,i=(0,p.A)(o);g((0,v.Ok)({activeMenu:N,data:{...G,perPage:a,page:l,column:s,sort:i}}))}}),C&&(0,w.jsx)(k,{id:C,handleCancel:()=>V(null)})]})}},89323:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(89379),l=n(9950);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var o=n(25085),i=function(e,t){return l.createElement(o.A,(0,a.A)((0,a.A)({},e),{},{ref:t,icon:s}))};const d=l.forwardRef(i)}}]);