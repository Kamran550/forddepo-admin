"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[6668],{16668:(e,t,a)=>{a.r(t),a.d(t,{default:()=>S});var d=a(9950),l=a(12678),i=a(29633),s=a(80737),n=a(48538),r=a(23263),o=a(12203),c=a(49348),u=a(76083),v=a(55386),h=a(91854),x=a(74623),g=a(88986),m=a(8168),p=a(70030),f=a(47526),y=a(89702),w=a(59051),k=a.n(w),j=a(28429),A=a(35116),b=a(28645),_=a(1160),C=a(44414);function S(){const{t:e}=(0,p.B)(),t=(0,h.wA)(),a=(0,j.Zp)(),[w,S]=(0,d.useState)([{title:e("order.id"),dataIndex:"order",key:"order",render:d=>(0,C.jsxs)("div",{className:"text-hover",onClick:()=>(d=>{t((0,x.X4)({id:"order_details",url:"order/details/".concat(d),name:e("order.details")})),a("/order/details/".concat(d))})(null===d||void 0===d?void 0:d.id),children:["#",null===d||void 0===d?void 0:d.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,C.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"deliveryman",key:"deliveryman",is_show:!0,render:e=>(0,C.jsxs)("div",{className:"text-hover",children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,C.jsx)(i.A,{allowHalf:!0,disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>k()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,C.jsx)(s.A,{children:(0,C.jsx)(n.A,{type:"primary",icon:(0,C.jsx)(l.A,{}),onClick:()=>Y(t.id)})})}]),{setIsModalVisible:I}=(0,d.useContext)(v.o),[M,N]=(0,d.useState)(null),[P,Y]=(0,d.useState)(null),[z,H]=(0,d.useState)(!1),[R,$]=(0,d.useState)(null),{activeMenu:D}=(0,h.d4)((e=>e.menu),h.bN),{reviews:O,meta:V,loading:B,params:E}=(0,h.d4)((e=>e.deliveryboyReview),h.bN),K=D.data,T={sort:null===K||void 0===K?void 0:K.sort,column:null===K||void 0===K?void 0:K.column,perPage:null===K||void 0===K?void 0:K.perPage,page:null===K||void 0===K?void 0:K.page,assign:"deliveryman"};(0,d.useEffect)((()=>{D.refetch&&(t((0,_.$r)(T)),t((0,x.km)(D)))}),[D.refetch]),(0,g.A)((()=>{t((0,_.$r)(T))}),[D.data]);const X={id:M,onChange:e=>{N(e)}};return(0,C.jsxs)(r.A,{title:e("deliveryboy.reviews"),extra:(0,C.jsxs)(s.A,{wrap:!0,children:[(0,C.jsx)(A.A,{size:"",onClick:()=>{null===M||0===M.length?c.oR.warning(e("select.the.product")):(I(!0),$(!1))},children:e("delete.selected")}),(0,C.jsx)(b.A,{columns:w,setColumns:S})]}),children:[(0,C.jsx)(o.A,{scroll:{x:!0},rowSelection:X,columns:null===w||void 0===w?void 0:w.filter((e=>e.is_show)),dataSource:O,pagination:{pageSize:E.perPage,page:E.page,total:V.total,defaultCurrent:E.page},rowKey:e=>e.id,onChange:function(e,a,d){const{pageSize:l,current:i}=e,{field:s,order:n}=d,r=(0,m.A)(n);t((0,x.Ok)({activeMenu:D,data:{perPage:l,page:i,column:s,sort:r}}))},loading:B}),(0,C.jsx)(u.A,{click:()=>{H(!0);const a={...Object.assign({},...M.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};f.A.delete(a).then((()=>{c.oR.success(e("successfully.deleted")),t((0,_.$r)()),I(!1)})).finally((()=>H(!1)))},text:e(R?"delete":"all.delete"),setText:N,loading:z}),P&&(0,C.jsx)(y.A,{id:P,handleCancel:()=>Y(null)})]})}}}]);