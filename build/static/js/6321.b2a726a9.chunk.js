"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[6321],{35116:(e,t,s)=>{s.d(t,{A:()=>c});s(9950);var n=s(48538),i=s(44070),a=s(49348),l=s(70030),d=s(13311),o=s(44414);function c(e){let{size:t="",onClick:s,type:c="default",...r}=e;const{t:u}=(0,l.B)(),{isDemo:h}=(0,d.A)();return(0,o.jsx)(n.A,{size:t,icon:(0,o.jsx)(i.A,{}),onClick:e=>{h?a.oR.warning(u("cannot.work.demo")):s(e)},type:c,...r})}},28645:(e,t,s)=>{s.d(t,{A:()=>x});var n=s(9950),i=s(66362),a=s(69216),l=s(80737),d=s(25933),o=s(57811),c=s(81541),r=s(48538),u=s(89323),h=s(70030),v=s(44414);const{Text:p}=i.A,x=e=>{let{columns:t=[],setColumns:s,style:i,size:x="",iconOnly:A}=e;const{t:m}=(0,h.B)(),[j,g]=(0,n.useState)(!1),f=(0,v.jsx)(a.A,{children:null===t||void 0===t?void 0:t.map(((e,n)=>(0,v.jsx)(a.A.Item,{children:(0,v.jsxs)(l.A,{className:"d-flex justify-content-between",children:[(0,v.jsx)(p,{children:e.title}),(0,v.jsx)(d.A,{defaultChecked:!0,onClick:()=>function(e){const n=null===t||void 0===t?void 0:t.map((t=>(t.dataIndex===e.dataIndex&&(t.is_show=!(null!==t&&void 0!==t&&t.is_show)),t)));s(n)}(e),disabled:1===n})]})},e+n)))});return(0,v.jsx)(o.A,{overlay:f,trigger:["click"],onVisibleChange:e=>{g(e)},visible:j,children:(0,v.jsx)(c.A,{title:m("change.columns"),children:(0,v.jsx)(r.A,{style:{...i},size:x,icon:(0,v.jsx)(u.A,{}),children:A?null:m("Columns")})})})}},8168:(e,t,s)=>{function n(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}s.d(t,{A:()=>n})},6321:(e,t,s)=>{s.r(t),s.d(t,{default:()=>B});var n=s(9950),i=s(12916),a=s(48538),l=s(80737),d=s(23263),o=s(12203),c=s(24513),r=s(44070),u=s(91854),h=s(60355),v=s(55386),p=s(70030),x=s(49348),A=s(28645),m=s(74623),j=s(88986),g=s(35116),f=s(28429),_=s(76083),w=s(59233),b=s(20380),y=s(87094),k=s(41988),z=s(99674),C=s(39487),S=s(44414);const V=["new","approved","canceled"];function H(e){let{data:t,handleCancel:s,paramsData:i}=e;const{activeMenu:l}=(0,u.d4)((e=>e.menu),u.bN),[d]=w.A.useForm(),o=(0,u.wA)(),{t:c}=(0,p.B)(),[r,v]=(0,n.useState)(null),[A,j]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1);(0,n.useEffect)((()=>{f(!0),C.A.getById(null===t||void 0===t?void 0:t.id).then((e=>{let t=e.data;const s={ads_package_id:null===t||void 0===t?void 0:t.ads_package_id,banner_id:null===t||void 0===t?void 0:t.banner_id,active:null===t||void 0===t?void 0:t.active,position_page:null===t||void 0===t?void 0:t.position_page};v(s)})).catch((e=>x.oR.error(e.message))).finally((()=>f(!1)))}),[null===t||void 0===t?void 0:t.id]);return(0,S.jsx)(b.A,{visible:!!t,title:t.title,onCancel:s,footer:[(0,S.jsx)(a.A,{type:"primary",onClick:()=>d.submit(),loading:A,children:c("save")}),(0,S.jsx)(a.A,{type:"default",onClick:s,children:c("cancel")})],children:(0,S.jsx)(w.A,{form:d,layout:"vertical",onFinish:e=>{j(!0);const n={...e};console.log("shopAdData => ",r),!g&&C.A.update(t.id,{...r,status:null===n||void 0===n?void 0:n.status}).then((()=>{s(),o((0,h.z)(i)),o((0,m.km)(l))})).finally((()=>j(!1)))},initialValues:{status:t.status},children:(0,S.jsx)(y.A,{gutter:12,children:(0,S.jsx)(k.A,{span:24,children:(0,S.jsx)(w.A.Item,{label:c("status"),name:"status",rules:[{required:!0,message:c("required")}],children:(0,S.jsx)(z.A,{children:V.map((e=>(0,S.jsx)(z.A.Option,{children:c(e)},e)))})})})})})})}var I=s(8168),M=s(59051),R=s.n(M);function B(){const{t:e}=(0,p.B)(),t=(0,u.wA)(),s=(0,f.Zp)(),{activeMenu:w}=(0,u.d4)((e=>e.menu),u.bN),{shopAdsList:b,loading:y,meta:k}=(0,u.d4)((e=>e.shopAds),u.bN),{setIsModalVisible:z}=(0,n.useContext)(v.o),[V,M]=(0,n.useState)(null),[B,D]=(0,n.useState)(null),[F,N]=(0,n.useState)(null),[O,Y]=(0,n.useState)(!1),[E,P]=(0,n.useState)(null),q=w.data,K={search:null===q||void 0===q?void 0:q.serach,perPage:null===q||void 0===q?void 0:q.perPage,page:null===q||void 0===q?void 0:q.page,sort:null===q||void 0===q?void 0:q.sort};(0,n.useEffect)((()=>{w.refetch&&(t((0,h.z)(K)),t((0,m.km)(w)))}),[w.refetch]),(0,j.A)((()=>{t((0,h.z)(K))}),[w.data]);const T=()=>{t((0,m.X4)({id:"transactions",url:"transactions",name:e("transactions")})),s("/transactions")},X={selectedRowKeys:V,onChange:e=>{M(e)}},[L,Z]=(0,n.useState)([{title:e("id"),dataIndex:"id",is_show:!0,sorter:(e,t)=>e.id-t.id},{title:e("shop"),dataIndex:"title",is_show:!0,render:(e,t)=>{var s,n;return(0,S.jsx)("span",{children:null===t||void 0===t||null===(s=t.shop)||void 0===s||null===(n=s.translation)||void 0===n?void 0:n.title})}},{title:e("expire.at"),dataIndex:"expire_at",is_show:!0,render:(t,s)=>(0,S.jsx)(S.Fragment,{children:null!==s&&void 0!==s&&s.expired_at?R()(null===s||void 0===s?void 0:s.expired_at).format("YYYY-MM-DD HH:mm"):(0,S.jsx)("span",{children:e("not.expired")})})},{title:e("status"),is_show:!0,dataIndex:"status",key:"status",render:(t,s)=>(0,S.jsxs)("div",{children:["new"===t?(0,S.jsx)(i.A,{color:"blue",children:e(t)}):"canceled"===t?(0,S.jsx)(i.A,{color:"error",children:e(t)}):(0,S.jsx)(i.A,{color:"cyan",children:e(t)}),s.deleted_at?"":(0,S.jsx)(c.A,{onClick:()=>P(s)})]})},{title:e("transaction"),dataIndex:"transaction",is_show:!0,render:(t,s)=>{var n;return(0,S.jsx)(S.Fragment,{children:t?(0,S.jsx)(a.A,{onClick:T,color:"cyan",children:null===s||void 0===s||null===(n=s.transaction)||void 0===n?void 0:n.status}):(0,S.jsx)(a.A,{color:"error",children:e("not.paid")})})}},{title:e("options"),dataIndex:"options",is_show:!0,render:(n,i)=>(0,S.jsxs)(l.A,{children:[(0,S.jsx)(a.A,{type:"primary",icon:(0,S.jsx)(c.A,{}),onClick:()=>(n=>{t((0,m.X4)({id:"shop-ads",url:"shop-ads/".concat(n.id),name:e("edit.shop.ads")})),s("/shop-ads/".concat(n.id))})(i),disabled:i.deleted_at}),(0,S.jsx)(g.A,{icon:(0,S.jsx)(r.A,{}),onClick:()=>{z(!0),M([i.id]),D(!0),N(!1)},disabled:i.deleted_at})]})}]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(d.A,{className:"p-0",children:(0,S.jsxs)(l.A,{wrap:!0,size:[14,20],children:[(0,S.jsx)(g.A,{size:"",onClick:()=>{null===V||0===V.length?x.oR.warning(e("select.the.product")):(z(!0),D(!1))},children:e("delete.selected")}),(0,S.jsx)(A.A,{columns:L,setColumns:Z})]})}),(0,S.jsx)(d.A,{children:(0,S.jsx)(o.A,{scroll:{x:!0},dataSource:b,columns:null===L||void 0===L?void 0:L.filter((e=>null===e||void 0===e?void 0:e.is_show)),rowSelection:X,rowKey:e=>e.id,loading:O||y,pagination:{pageSize:k.per_page,page:k.current_page,total:k.total},onChange:(e,s,n)=>{const{pageSize:i,current:a}=e,{field:l,order:d}=n,o=(0,I.A)(d);t((0,m.Ok)({activeMenu:w,data:{...w.data,perPage:i,page:a,column:l,sort:o}}))}})}),E&&(0,S.jsx)(H,{data:E,handleCancel:()=>P(null),paramsData:K}),(0,S.jsx)(_.A,{click:F?()=>{Y(!0),C.A.setActive(V).then((()=>{z(!1),t((0,h.z)(K)),x.oR.success(e("successfully.updated")),N(!1)})).finally((()=>Y(!1)))}:()=>{Y(!0);const s={...Object.assign({},...V.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};C.A.delete(s).then((()=>{z(!1),x.oR.success(e("successfully.deleted")),t((0,h.z)(K)),D(null),N(!1)})).finally((()=>{Y(!1),M(null)}))},text:e(F?"set.active.advert":B?"delete":"all.delete"),setText:M,setActive:N})]})}},89323:(e,t,s)=>{s.d(t,{A:()=>o});var n=s(89379),i=s(9950);const a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 208H676V232h212v136zm0 224H676V432h212v160zM412 432h200v160H412V432zm200-64H412V232h200v136zm-476 64h212v160H136V432zm0-200h212v136H136V232zm0 424h212v136H136V656zm276 0h200v136H412V656zm476 136H676V656h212v136z"}}]},name:"table",theme:"outlined"};var l=s(25085),d=function(e,t){return i.createElement(l.A,(0,n.A)((0,n.A)({},e),{},{ref:t,icon:a}))};const o=i.forwardRef(d)}}]);