"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[3612],{53612:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j});var r=t(9950),a=t(28429),i=t(49348),l=t(59233),n=t(23263),d=t(91854),m=t(74623),o=t(70030),c=t(7843),u=t(81446),h=t(98459),p=t(79930),x=t(44414);const j=()=>{const{t:e}=(0,o.B)(),{activeMenu:s}=(0,d.d4)((e=>e.menu),d.bN),t=(0,d.wA)(),[j]=l.A.useForm(),A=(0,a.Zp)(),{id:v}=(0,a.g)(),[f,b]=(0,r.useState)(!1);(0,r.useEffect)((()=>()=>{const e=j.getFieldsValue(!0);t((0,m.Ok)({activeMenu:s,data:e}))}),[]);return(0,r.useEffect)((()=>{var e;s.refetch&&(e=v,b(!0),c.A.getById(e).then((e=>{const r={...e.data};j.setFieldsValue(r),t((0,m.Ok)({activeMenu:s,data:r}))})).finally((()=>{t((0,m.km)(s)),b(!1)})))}),[s.refetch]),(0,x.jsx)(n.A,{title:e("edit.email.provider"),className:"h-100",children:f?(0,x.jsx)(u.A,{}):(0,x.jsx)(p.A,{form:j,handleSubmit:r=>{const a={smtp_auth:r.smtp_auth,smtp_debug:r.smtp_debug,port:r.port,password:r.password,from_to:r.from_to,host:r.host,active:r.active,from_site:r.from_site},l="settings/emailProviders";return c.A.update(v,a).then((()=>{i.oR.success(e("successfully.updated")),(0,d.vA)((()=>{t((0,m.EK)({...s,nextUrl:l})),t((0,h.o)({}))})),A("/".concat(l))}))}})})}},79930:(e,s,t)=>{t.d(s,{A:()=>p});var r=t(9950),a=t(59233),i=t(87094),l=t(41988),n=t(55902),d=t(56952),m=t(25933),o=t(48538),c=t(91854),u=t(70030),h=t(44414);function p(e){let{form:s,handleSubmit:t}=e;const{t:p}=(0,u.B)(),{activeMenu:x}=(0,c.d4)((e=>e.menu),c.bN),[j,A]=(0,r.useState)(!1);return(0,h.jsxs)(a.A,{name:"email-provider-form",layout:"vertical",onFinish:e=>{A(!0),t(e).finally((()=>A(!1)))},form:s,initialValues:{smtp_debug:!0,smtp_auth:!0,active:!0,...x.data},className:"d-flex flex-column h-100",children:[(0,h.jsxs)(i.A,{gutter:12,children:[(0,h.jsx)(l.A,{span:12,children:(0,h.jsx)(a.A.Item,{rules:[{required:!0,message:p("required")},{type:"email",message:p("invalid.email")}],label:p("email"),name:"from_to",children:(0,h.jsx)(n.A,{placeholder:"Email"})})}),(0,h.jsx)(l.A,{span:12,children:(0,h.jsx)(a.A.Item,{rules:[{required:!0,message:p("required")},{type:"string",min:6,message:p("min.6.letters")}],label:p("password"),name:"password",normalize:e=>""===(null===e||void 0===e?void 0:e.trim())?null===e||void 0===e?void 0:e.trim():e,children:(0,h.jsx)(n.A.Password,{})})}),(0,h.jsx)(l.A,{span:12,children:(0,h.jsx)(a.A.Item,{rules:[{validator:(e,s)=>s?s&&""===(null===s||void 0===s?void 0:s.trim())?Promise.reject(new Error(p("no.empty.space"))):s&&(null===s||void 0===s?void 0:s.trim().length)<2?Promise.reject(new Error(p("must.be.at.least.2"))):Promise.resolve():Promise.reject(new Error(p("required")))}],label:p("host"),name:"host",children:(0,h.jsx)(n.A,{})})}),(0,h.jsx)(l.A,{span:12,children:(0,h.jsx)(a.A.Item,{rules:[{required:!0,message:p("required")}],label:p("port"),name:"port",children:(0,h.jsx)(d.A,{min:0,className:"w-100"})})}),(0,h.jsx)(l.A,{span:12,children:(0,h.jsx)(a.A.Item,{rules:[{required:!0,message:p("required")}],label:p("from.site"),name:"from_site",children:(0,h.jsx)(n.A,{})})}),(0,h.jsx)(l.A,{span:8,children:(0,h.jsx)(a.A.Item,{label:p("active"),name:"active",valuePropName:"checked",children:(0,h.jsx)(m.A,{})})}),(0,h.jsx)(l.A,{span:8,children:(0,h.jsx)(a.A.Item,{valuePropName:"checked",label:p("smtp_debug"),name:"smtp_debug",children:(0,h.jsx)(m.A,{})})}),(0,h.jsx)(l.A,{span:8,children:(0,h.jsx)(a.A.Item,{valuePropName:"checked",label:p("smtp_auth"),name:"smtp_auth",children:(0,h.jsx)(m.A,{})})})]}),(0,h.jsx)("div",{className:"flex-grow-1 d-flex flex-column justify-content-end",children:(0,h.jsx)("div",{className:"pb-5",children:(0,h.jsx)(o.A,{type:"primary",htmlType:"submit",loading:j,children:p("submit")})})})]})}}}]);