"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7299],{27299:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var i=s(9950),a=s(12678),n=s(44070),l=s(29633),d=s(80737),o=s(48538),r=s(23263),u=s(12203),c=s(49348),v=s(76083),h=s(55386),g=s(91854),x=s(74623),p=s(88986),m=s(8168),f=s(70030),k=s(12408),w=s(18583),y=s(59051),A=s.n(y),j=s(28429),_=s(35116),b=s(28645),C=s(1160),I=s(44414);function S(){const{t:e}=(0,f.B)(),t=(0,g.wA)(),s=(0,j.Zp)(),y=i=>{t((0,x.X4)({url:"/users/user/".concat(i.uuid),id:"user_info",name:e("user.info")})),s("/users/user/".concat(i.uuid),{state:{user_id:i.id}})},[S,M]=(0,i.useState)([{title:e("id"),dataIndex:"id",key:"id",sorter:!0,is_show:!0},{title:e("user"),dataIndex:"assign_user",key:"assign_user",is_show:!0,render:e=>(0,I.jsxs)("div",{className:"text-hover",onClick:()=>y(e),children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,I.jsxs)("div",{className:"text-hover",onClick:()=>y(e),children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,I.jsx)(l.A,{allowHalf:!0,disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>A()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,t)=>(0,I.jsxs)(d.A,{children:[(0,I.jsx)(o.A,{type:"primary",icon:(0,I.jsx)(a.A,{}),onClick:()=>H(t.id)}),(0,I.jsx)(_.A,{icon:(0,I.jsx)(n.A,{}),onClick:()=>{Y([t.id]),N(!0),V(!0)}})]})}]),{setIsModalVisible:N}=(0,i.useContext)(h.o),[P,Y]=(0,i.useState)(null),[z,H]=(0,i.useState)(null),[R,D]=(0,i.useState)(!1),[O,V]=(0,i.useState)(null),{activeMenu:B}=(0,g.d4)((e=>e.menu),g.bN),{reviews:E,meta:K,loading:T,params:X}=(0,g.d4)((e=>e.deliveryboyReview),g.bN),Z=B.data,q={sort:null===Z||void 0===Z?void 0:Z.sort,column:null===Z||void 0===Z?void 0:Z.column,perPage:null===Z||void 0===Z?void 0:Z.perPage,page:null===Z||void 0===Z?void 0:Z.page,assign:"deliveryman"};(0,i.useEffect)((()=>{B.refetch&&(t((0,C.iI)(q)),t((0,x.km)(B)))}),[B.refetch]),(0,p.A)((()=>{t((0,C.iI)(q))}),[B.data]);const F={id:P,onChange:e=>{Y(e)}};return(0,I.jsxs)(r.A,{title:e("deliveryboy.reviews"),extra:(0,I.jsxs)(d.A,{wrap:!0,children:[(0,I.jsx)(_.A,{size:"",onClick:()=>{null===P||0===P.length?c.oR.warning(e("select.the.product")):(N(!0),V(!1))},children:e("delete.selected")}),(0,I.jsx)(b.A,{columns:S,setColumns:M})]}),children:[(0,I.jsx)(u.A,{scroll:{x:!0},rowSelection:F,columns:null===S||void 0===S?void 0:S.filter((e=>e.is_show)),dataSource:E,pagination:{pageSize:X.perPage,page:X.page,total:K.total,defaultCurrent:X.page},rowKey:e=>e.id,onChange:function(e,s,i){const{pageSize:a,current:n}=e,{field:l,order:d}=i,o=(0,m.A)(d);t((0,x.Ok)({activeMenu:B,data:{perPage:a,page:n,column:l,sort:o}}))},loading:T}),(0,I.jsx)(v.A,{click:()=>{D(!0);const s={...Object.assign({},...P.map(((e,t)=>({["ids[".concat(t,"]")]:e}))))};k.A.delete(s).then((()=>{c.oR.success(e("successfully.deleted")),t((0,C.iI)()),N(!1)})).finally((()=>D(!1)))},text:e(O?"delete":"all.delete"),setText:Y,loading:R}),z&&(0,I.jsx)(w.A,{id:z,handleCancel:()=>H(null)})]})}}}]);