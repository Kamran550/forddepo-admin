"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[7314],{41064:(e,t,i)=>{function l(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:["title"];if(null===t||void 0===t||!t.translations)return{};const{translations:l}=t,n=(e,t)=>{const i=null===l||void 0===l?void 0:l.find((t=>(null===t||void 0===t?void 0:t.locale)===(null===e||void 0===e?void 0:e.locale)));return i||{[t]:""}},a=e.flatMap((e=>i.flatMap((t=>({["".concat(t,"[").concat(null===e||void 0===e?void 0:e.locale,"]")]:n(e,t)[t]})))));return Object.assign({},...a)}i.d(t,{A:()=>l})},27314:(e,t,i)=>{i.r(t),i.d(t,{default:()=>k});var l=i(9950),n=i(59233),a=i(23263),o=i(90650),d=i(49348),s=i(28429),u=i(71999),r=i(91854),v=i(74623),c=i(62572),p=i(63620),f=i(35804),g=i(70030),h=i(41064),m=i(31281),b=i(82405),A=i(44414);const k=()=>{const{t:e}=(0,g.B)(),t=(0,s.Zp)(),i=(0,r.wA)(),{activeMenu:k}=(0,r.d4)((e=>e.menu),r.bN),[y,_]=(0,l.useState)(!1),[j]=n.A.useForm(),[x,w]=(0,l.useState)(null),{uuid:M}=(0,s.g)(),{languages:N}=(0,r.d4)((e=>e.formLang),r.bN);(0,l.useEffect)((()=>()=>{const e=j.getFieldsValue(!0);i((0,v.Ok)({activeMenu:k,data:e}))}),[]);return(0,l.useEffect)((()=>{var e;k.refetch&&(e=M,_(!0),c.A.getById(e).then((e=>{var t,l,n;let a=e.data;const o={...(0,h.A)(N,a,["title","description"]),image:[(d=null===a||void 0===a?void 0:a.img,{name:d,url:p.sE+d})],keywords:null===a||void 0===a?void 0:a.keywords.split(","),parent_id:{label:null===a||void 0===a||null===(t=a.parent)||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title,value:null===a||void 0===a?void 0:a.parent_id,key:null===a||void 0===a?void 0:a.parent_id},input:null!==(n=null===a||void 0===a?void 0:a.input)&&void 0!==n?n:32767,active:!(null===a||void 0===a||!a.active)};var d;j.setFieldsValue(o),i((0,v.Ok)({activeMenu:k,data:o}))})).finally((()=>{_(!1),i((0,v.km)(k))})))}),[k.refetch]),(0,A.jsx)(a.A,{title:e("clone.category"),extra:(0,A.jsx)(u.A,{}),children:y?(0,A.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,A.jsx)(o.A,{size:"large",className:"mt-5 pt-5"})}):(0,A.jsx)(b.A,{form:j,handleSubmit:(l,n)=>{var a,o,s;const u={title:(0,m.A)(N,l),description:(0,m.A)(N,l,"description"),type:null!==(a=l.parent_id)&&void 0!==a&&a.value?"sub_shop":"shop",active:Number(null===l||void 0===l?void 0:l.active),keywords:null===l||void 0===l||null===(o=l.keywords)||void 0===o?void 0:o.join(","),parent_id:null===l||void 0===l||null===(s=l.parent_id)||void 0===s?void 0:s.value,images:null===n||void 0===n?void 0:n.map((e=>null===e||void 0===e?void 0:e.name)),input:null===l||void 0===l?void 0:l.input};return c.A.create(u).then((()=>{d.oR.success(e("successfully.created")),(0,r.vA)((()=>{i((0,v.EK)({...k,nextUrl:"catalog/shop/categories"})),i((0,f.J)({}))})),t("/catalog/shop/categories")})).catch((e=>w(e.response.data.params)))},error:x})})}}}]);