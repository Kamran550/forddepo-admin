"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1389],{21777:(e,l,n)=>{n.d(l,{A:()=>a});n(9950);var t=n(20380),i=n(32312),r=n(48538),s=n(70030),d=n(44414);const a=e=>{let{open:l,handleCancel:n,text:a,click:o,loading:c,subTitle:u}=e;const{t:v}=(0,s.B)();return(0,d.jsxs)(t.A,{closable:!1,visible:l,footer:null,centered:!0,children:[(0,d.jsx)(i.Ay,{status:"warning",title:a,subTitle:u}),(0,d.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,d.jsx)(r.A,{type:"primary",className:"mr-2",onClick:o,loading:c,children:v("yes")}),(0,d.jsx)(r.A,{onClick:()=>n(),children:v("no")})]})]})}},31389:(e,l,n)=>{n.r(l),n.d(l,{default:()=>J});var t=n(9950),i=n(12678),r=n(44070),s=n(29633),d=n(80737),a=n(48538),o=n(23263),c=n(12203),u=n(49348),v=n(76083),h=n(55386),m=n(91854),p=n(74623),x=n(88986),f=n(8168),A=n(70030),j=n(12408),g=n(68389),y=(n(18583),n(59051)),_=n.n(y),b=n(28429),k=n(35116),C=n(28645),w=n(21777),I=n(20380),S=n(91524),Y=n(81446),M=n(44414);function N(e){var l,n,i,r,s,d,o,c,u;let{id:v,handleCancel:h}=e;const[m,p]=(0,t.useState)({}),[x,f]=(0,t.useState)(!1),{t:g}=(0,A.B)();return(0,t.useEffect)((()=>{!function(e){f(!0),j.A.getById(e).then((e=>p(e.data))).finally((()=>f(!1)))}(v)}),[v]),(0,M.jsx)(I.A,{visible:!!v,title:g("order.review"),onCancel:h,footer:(0,M.jsx)(a.A,{type:"default",onClick:h,children:g("cancel")}),children:x?(0,M.jsx)(Y.A,{}):(0,M.jsxs)(S.A,{bordered:!0,children:[(0,M.jsx)(S.A.Item,{span:3,label:g("id"),children:m.id}),(0,M.jsxs)(S.A.Item,{span:3,label:g("user"),children:[null===m||void 0===m||null===(l=m.parcel_order)||void 0===l?void 0:l.username_from," ",(0,M.jsx)("a",{href:"tel:".concat(null===m||void 0===m||null===(n=m.parcel_order)||void 0===n?void 0:n.phone_from),children:null===m||void 0===m||null===(i=m.parcel_order)||void 0===i?void 0:i.phone_from})]}),(0,M.jsxs)(S.A.Item,{span:3,label:g("receiver"),children:[null===m||void 0===m||null===(r=m.parcel_order)||void 0===r?void 0:r.username_to," ",(0,M.jsxs)("a",{href:"tel:".concat(null===m||void 0===m||null===(s=m.parcel_order)||void 0===s?void 0:s.phone_to),children:[null===m||void 0===m||null===(d=m.parcel_order)||void 0===d?void 0:d.phone_to," "]})]}),(0,M.jsxs)(S.A.Item,{span:3,label:g("deliveryman"),children:[null===(o=m.deliveryman)||void 0===o?void 0:o.firstname," ",(null===(c=m.deliveryman)||void 0===c?void 0:c.lastname)||""]}),(0,M.jsx)(S.A.Item,{span:3,label:g("rating"),children:m.rating}),(0,M.jsx)(S.A.Item,{span:3,label:g("comment"),children:m.comment}),(0,M.jsx)(S.A.Item,{span:3,label:g("parcel.order.id"),children:null===m||void 0===m||null===(u=m.parcel_order)||void 0===u?void 0:u.id}),(0,M.jsx)(S.A.Item,{span:3,label:g("created.at"),children:_()(null===m||void 0===m?void 0:m.created_at).format("YYYY-MM-DD HH:mm")})]})})}function J(){const{t:e}=(0,A.B)(),l=(0,m.wA)(),n=(0,b.Zp)(),y=t=>{l((0,p.X4)({url:"/users/user/".concat(t.uuid),id:"user_info",name:e("user.info")})),n("/users/user/".concat(t.uuid),{state:{user_id:t.id}})},[I,S]=(0,t.useState)([{title:e("order.id"),dataIndex:"parcel_order",key:"parcel_order",render:t=>(0,M.jsxs)("div",{className:"text-hover",onClick:()=>(t=>{l((0,p.X4)({id:"order_details",url:"order/details/".concat(t),name:e("order.details")})),n("/order/details/".concat(t))})(t.id),children:["#",t.id]}),sorter:!0,is_show:!0},{title:e("user"),dataIndex:"user",key:"user",is_show:!0,render:e=>(0,M.jsxs)("div",{className:"text-hover",onClick:()=>y(e),children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("deliveryman"),dataIndex:"deliveryman",key:"deliveryman",is_show:!0,render:e=>(0,M.jsxs)("div",{className:"text-hover",onClick:()=>y(e),children:[null===e||void 0===e?void 0:e.firstname," ",(null===e||void 0===e?void 0:e.lastname)||""]})},{title:e("rating"),dataIndex:"rating",key:"rating",is_show:!0,render:e=>(0,M.jsx)(s.A,{disabled:!0,defaultValue:e})},{title:e("created.at"),dataIndex:"created_at",key:"created_at",is_show:!0,render:e=>_()(e).format("YYYY-MM-DD HH:mm")},{title:e("options"),key:"options",dataIndex:"options",is_show:!0,render:(e,l)=>(0,M.jsxs)(d.A,{children:[(0,M.jsx)(a.A,{type:"primary",icon:(0,M.jsx)(i.A,{}),onClick:()=>B(l.id)}),(0,M.jsx)(k.A,{icon:(0,M.jsx)(r.A,{}),onClick:()=>{R([l.id]),Y(!0),z(!0)}})]})}]),{setIsModalVisible:Y}=(0,t.useContext)(h.o),[J,R]=(0,t.useState)(null),[T,B]=(0,t.useState)(null),[D,H]=(0,t.useState)(!1),[P,z]=(0,t.useState)(null),[E,O]=(0,t.useState)(null),{activeMenu:V}=(0,m.d4)((e=>e.menu),m.bN),{reviews:X,meta:K,loading:Z,params:q}=(0,m.d4)((e=>e.parcelReview),m.bN);console.log("reviews => ",X);(0,t.useEffect)((()=>{V.refetch&&(l((0,g.J)()),l((0,p.km)(V)))}),[V.refetch]),(0,x.A)((()=>{const e=V.data,n={sort:null===e||void 0===e?void 0:e.sort,column:null===e||void 0===e?void 0:e.column,perPage:null===e||void 0===e?void 0:e.perPage,page:null===e||void 0===e?void 0:e.page};l((0,g.J)(n))}),[V.data]);const F={id:J,onChange:e=>{R(e)}};return(0,M.jsxs)(o.A,{title:e("parcel.reviews"),extra:(0,M.jsxs)(d.A,{wrap:!0,children:[(0,M.jsx)(k.A,{size:"",onClick:()=>{null===J||0===J.length?u.oR.warning(e("select.the.product")):(Y(!0),z(!1))},children:e("delete.selected")}),(0,M.jsx)(C.A,{columns:I,setColumns:S})]}),children:[(0,M.jsx)(c.A,{scroll:{x:!0},rowSelection:F,columns:null===I||void 0===I?void 0:I.filter((e=>e.is_show)),dataSource:X,pagination:{pageSize:q.perPage,page:q.page,total:K.total,defaultCurrent:q.page},rowKey:e=>e.id,onChange:function(e,n,t){const{pageSize:i,current:r}=e,{field:s,order:d}=t,a=(0,f.A)(d);l((0,p.Ok)({activeMenu:V,data:{perPage:i,page:r,column:s,sort:a}}))},loading:Z}),(0,M.jsx)(v.A,{click:()=>{H(!0);const n={...Object.assign({},...J.map(((e,l)=>({["ids[".concat(l,"]")]:e}))))};j.A.delete(n).then((()=>{u.oR.success(e("successfully.deleted")),l((0,g.J)()),Y(!1)})).finally((()=>H(!1)))},text:e(P?"delete":"all.delete"),setText:R,loading:D}),T&&(0,M.jsx)(N,{id:T,handleCancel:()=>B(null)}),E&&(0,M.jsx)(w.A,{open:E,handleCancel:()=>O(null),click:E.restore?()=>{H(!0),j.A.restoreAll().then((()=>{u.oR.success(e("successfully.restored")),l((0,g.J)()),O(null)})).finally((()=>H(!1)))}:()=>{H(!0),j.A.dropAll().then((()=>{u.oR.success(e("successfully.deleted")),l((0,g.J)()),O(null)})).finally((()=>H(!1)))},text:E.restore?e("restore.modal.text"):e("read.carefully"),subTitle:E.restore?"":e("confirm.deletion"),loading:D,setText:R})]})}}}]);