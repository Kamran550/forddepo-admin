"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[9838],{99838:(e,t,a)=>{a.r(t),a.d(t,{default:()=>b});var l=a(9950),i=a(59233),c=a(23263),d=a(90650),n=a(49348),o=a(28429),s=a(71999),r=a(91854),u=a(74623),v=a(33774),f=a(70030),g=a(42362),p=a(31281),h=a(6728),m=a(44414);const b=()=>{const{t:e}=(0,f.B)(),t=(0,o.Zp)(),a=(0,r.wA)(),{activeMenu:b}=(0,r.d4)((e=>e.menu),r.bN),[y,A]=(0,l.useState)(!1),[x]=i.A.useForm(),{id:j}=(0,o.g)(),{languages:k}=(0,r.d4)((e=>e.formLang),r.bN);function N(e){if(!e)return{};const{translations:t}=e,a=k.map((e=>{var a,l,i;return{["title[".concat(e.locale,"]")]:null===(a=t.find((t=>t.locale===e.locale)))||void 0===a?void 0:a.title,["description[".concat(e.locale,"]")]:null===(l=t.find((t=>t.locale===e.locale)))||void 0===l?void 0:l.description,["address[".concat(e.locale,"]")]:null===(i=t.find((t=>t.locale===e.locale)))||void 0===i?void 0:i.address}}));return Object.assign({},...a)}(0,l.useEffect)((()=>()=>{const e=x.getFieldsValue(!0);a((0,u.Ok)({activeMenu:b,data:e}))}),[]);return(0,l.useEffect)((()=>{var e;b.refetch&&(e=j,A(!0),v.A.getById(e).then((e=>{var t,l,i,c,d;let n=e.data;const o={...n,...N(n),category_id:{label:null===n||void 0===n||null===(t=n.category)||void 0===t||null===(l=t.translation)||void 0===l?void 0:l.title,value:null===n||void 0===n||null===(i=n.category)||void 0===i?void 0:i.id},active:!(null===e||void 0===e||null===(c=e.data)||void 0===c||!c.active)&&(null===e||void 0===e||null===(d=e.data)||void 0===d?void 0:d.active)};x.setFieldsValue(o),a((0,u.Ok)({activeMenu:b,data:o}))})).finally((()=>{A(!1),a((0,u.km)(b))})))}),[b.refetch]),(0,m.jsx)(c.A,{title:e("edit.career"),extra:(0,m.jsx)(s.A,{}),children:y?(0,m.jsx)("div",{className:"d-flex justify-content-center align-items-center py-5",children:(0,m.jsx)(d.A,{size:"large",className:"mt-5 pt-5"})}):(0,m.jsx)(h.A,{form:x,handleSubmit:l=>{const i={...l,active:Number(l.active),category_id:l.category_id.value,type:l.type,title:(0,p.A)(k,l,"title"),description:(0,p.A)(k,l,"description"),address:(0,p.A)(k,l,"address")},c="catalog/career";return v.A.update(j,i).then((()=>{n.oR.success(e("successfully.updated")),(0,r.vA)((()=>{a((0,u.EK)({...b,nextUrl:c})),a((0,g.R)({}))})),t("/".concat(c))})).catch((e=>console.error(e.response.data.params)))}})})}}}]);