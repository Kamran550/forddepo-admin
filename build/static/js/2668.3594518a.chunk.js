(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[2668],{65820:(i,l,o)=>{"use strict";o.d(l,{s:()=>e});var t=o(28429),d=o(21215),n=o.n(d);const e=()=>{const i=(0,t.Zp)(),l=(0,t.zy)(),o=n().parse(l.search,{ignoreQueryPrefix:!0});return{values:o,set:(l,t)=>i({search:n().stringify({...o,[l]:t})}),reset:l=>{const t={...o};t[l]&&delete t[l],i({search:n().stringify({...t})})},clear:()=>i({search:n().stringify({})}),merge:l=>i({search:n().stringify({...o,...l})}),get:i=>o[i],setMultiple:l=>{const t={...o,...l};i({search:n().stringify(t)})},resetMultiple:l=>{const t={...o};l.forEach((i=>{t[i]&&delete t[i]})),i({search:n().stringify(t)})}}}},6107:(i,l,o)=>{"use strict";o.r(l),o.d(l,{default:()=>k});var t=o(9950),d=o(86366),n=o(23263),e=o(90650),v=o(71999),a=o(28429),u=o(47933),s=o(91854),r=o(74623),c=o(70030),p=o(65820),h=o(88986),g=o(11906),x=o(49326),f=o(93567),b=o(57844),_=o(59585),j=o(44832),m=o(44414);const{Step:y}=d.A,k=()=>{var i;const{t:l}=(0,c.B)(),{uuid:o}=(0,a.g)(),k=(0,p.s)(),A=(0,s.wA)(),{activeMenu:C}=(0,s.d4)((i=>i.menu),s.bN),{languages:M}=(0,s.d4)((i=>i.formLang),s.bN),[N,O]=(0,t.useState)(C.refetch),E=Number((null===(i=k.values)||void 0===i?void 0:i.step)||0);(0,t.useEffect)((()=>{q(o)}),[]),(0,h.A)((()=>{C.refetch&&q(o)}),[C.refetch]);const F=()=>{const i=E+1;k.set("step",i)},w=()=>{const i=E-1;k.set("step",i)},S=i=>{var l;return i?{label:null!==i&&void 0!==i&&i.translation?null===i||void 0===i||null===(l=i.translation)||void 0===l?void 0:l.title:null===i||void 0===i?void 0:i.title,value:null===i||void 0===i?void 0:i.id}:null},q=i=>{O(!0),u.A.getById(i).then((i=>{var l,o,t,d,n,e,v,a,u,s,c;const p={};null===i||void 0===i||null===(l=i.data)||void 0===l||null===(o=l.stocks)||void 0===o||o.forEach((i=>{var l;null===i||void 0===i||null===(l=i.extras)||void 0===l||l.forEach((l=>{var o,t,d,n,e;(null===l||void 0===l?void 0:l.extra_group_id)in p?null!==p&&void 0!==p&&null!==(o=p[null===l||void 0===l?void 0:l.extra_group_id])&&void 0!==o&&null!==(t=o.values)&&void 0!==t&&t.some((i=>(null===i||void 0===i?void 0:i.value)===(null===l||void 0===l?void 0:l.id)))||null===p||void 0===p||null===(d=p[null===l||void 0===l?void 0:l.extra_group_id])||void 0===d||null===(n=d.values)||void 0===n||n.push({value:null===l||void 0===l?void 0:l.id,label:null===l||void 0===l?void 0:l.value,stock_id:null===i||void 0===i?void 0:i.id}):p[null===l||void 0===l?void 0:l.extra_group_id]={label:null===l||void 0===l||null===(e=l.group.translation)||void 0===e?void 0:e.title,value:null===l||void 0===l?void 0:l.extra_group_id,id:null===l||void 0===l?void 0:l.extra_group_id,stock_id:null===i||void 0===i?void 0:i.id,values:[{value:null===l||void 0===l?void 0:l.id,label:null===l||void 0===l?void 0:l.value,stock_id:null===i||void 0===i?void 0:i.id}]}}))}));const h={...i.data,...z(null===i||void 0===i?void 0:i.data),shop:S(null===i||void 0===i||null===(t=i.data)||void 0===t?void 0:t.shop),category:S(null===i||void 0===i||null===(d=i.data)||void 0===d?void 0:d.category),brand:S(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.brand),kitchen:S(null===i||void 0===i||null===(e=i.data)||void 0===e?void 0:e.kitchen),unit:S(null===i||void 0===i||null===(v=i.data)||void 0===v?void 0:v.unit),images:(g=null===i||void 0===i||null===(a=i.data)||void 0===a?void 0:a.galleries,g.map((i=>({uid:null===i||void 0===i?void 0:i.id,name:null===i||void 0===i?void 0:i.path,url:null===i||void 0===i?void 0:i.path})))),extras:Object.values(p),stocks:null===i||void 0===i||null===(u=i.data)||void 0===u||null===(s=u.stocks)||void 0===s?void 0:s.map((i=>{var l;return{...i,...Object.assign({},...null===i||void 0===i||null===(l=i.extras)||void 0===l?void 0:l.map(((i,l)=>({["extras[".concat(l,"]")]:i.id})))),quantity:(null===i||void 0===i?void 0:i.quantity)||0,price:(null===i||void 0===i?void 0:i.price)||0,extras:void 0}})),properties:null===i||void 0===i||null===(c=i.data)||void 0===c?void 0:c.properties,translation:void 0,translations:void 0};var g;A((0,r.Ok)({activeMenu:C,data:h}))})).finally((()=>{O(!1),A((0,r.km)(C))}))},z=i=>{if(null===i||void 0===i||!i.translations)return{};const{translations:l}=i,o=null===M||void 0===M?void 0:M.map((i=>{var o,t;return{["title[".concat(null===i||void 0===i?void 0:i.locale,"]")]:null===l||void 0===l||null===(o=l.find((l=>(null===l||void 0===l?void 0:l.locale)===(null===i||void 0===i?void 0:i.locale))))||void 0===o?void 0:o.title,["description[".concat(null===i||void 0===i?void 0:i.locale,"]")]:null===l||void 0===l||null===(t=l.find((l=>(null===l||void 0===l?void 0:l.locale)===(null===i||void 0===i?void 0:i.locale))))||void 0===t?void 0:t.description}}));return Object.assign({},...o)};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(n.A,{title:l("edit.product"),extra:(0,m.jsx)(v.A,{}),children:(0,m.jsx)(d.A,{current:E,onChange:i=>{A((0,r.Ok)({activeMenu:C,data:{...C.data,step:i}})),k.set("step",i)},children:x.C.map((i=>(0,m.jsx)(y,{title:l(i.title)},i.title)))})}),N?(0,m.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:(0,m.jsx)(e.A,{size:"large",className:"py-5"})}):(0,m.jsxs)("div",{children:["First-content"===x.C[E].content&&(0,m.jsx)(j.A,{next:F,action_type:"edit"}),"Second-content"===x.C[E].content&&(0,m.jsx)(_.A,{next:F,prev:w}),"Third-content"===x.C[E].content&&(0,m.jsx)(g.A,{next:F,prev:w}),"Fourth-content"===x.C[E].content&&(0,m.jsx)(f.A,{next:F,prev:w}),"Finish-content"===x.C[E].content&&(0,m.jsx)(b.A,{prev:w})]})]})}},42634:()=>{}}]);