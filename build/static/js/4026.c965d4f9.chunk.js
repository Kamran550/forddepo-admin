"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[4026],{47992:(e,o,t)=>{t.d(o,{G:()=>s});var r=t(9950),l=t(95491),n=t.n(l),i=t(99674),d=t(90650),a=t(44414);const s=e=>{let{fetchOptions:o,debounceTimeout:t=400,onClear:l,...s}=e;const[u,c]=(0,r.useState)(!1),[v,h]=(0,r.useState)([]),p=(0,r.useMemo)((()=>n()((e=>{h([]),c(!0),o(e).then((e=>{h(e),c(!1)}))}),t)),[o,t]);return(0,a.jsx)(i.A,{showSearch:!0,allowClear:!0,labelInValue:!0,filterOption:!1,onSearch:p,onClear:()=>{p(""),l&&l()},notFoundContent:u?(0,a.jsx)(d.A,{size:"small"}):"no results",...s,options:v,onFocus:()=>{p("")}})}},8168:(e,o,t)=>{function r(e){switch(e){case"ascend":return"asc";case"descend":return"desc"}}t.d(o,{A:()=>r})},53774:(e,o,t)=>{t.d(o,{A:()=>l});var r=t(83291);function l(){var e,o;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,l=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;const i=null===(e=r.M.getState())||void 0===e||null===(o=e.currency)||void 0===o?void 0:o.defaultCurrency,d=Number(t).toFixed(2).replace(/\d(?=(\d{3})+\.)/g,"$&,"),a=l||(null===i||void 0===i?void 0:i.symbol)||"$";return"after"===(n||(null===i||void 0===i?void 0:i.position)||"before")?"".concat(d," ").concat(a):"".concat(a," ").concat(d)}},44026:(e,o,t)=>{t.r(o),t.d(o,{default:()=>w});var r=t(9950),l=t(5713),n=t(23263),i=t(80737),d=t(12203),a=t(28429),s=t(91854),u=t(74623),c=t(70030),v=t(88986),h=t(8168),p=t(53774),_=t(47992),m=t(53271),f=t(59051),y=t.n(f),g=t(58547),x=t(43430),b=t(44414);const{RangePicker:A}=l.A;function w(){var e,o,t,l,f,w,Y;const{type:k}=(0,a.g)(),M=(0,s.wA)(),j=(0,a.Zp)(),{t:D}=(0,c.B)(),{defaultCurrency:C}=(0,s.d4)((e=>e.currency),s.bN),I=[{title:D("order.id"),is_show:!0,dataIndex:"order_id",key:"order_id",sorter:!0,render:e=>(0,b.jsxs)("span",{className:"text-hover",onClick:()=>(e=>{M((0,u.X4)({url:"order/details/".concat(e),id:"order_details",name:D("order.details")})),j("/order/details/".concat(e))})(e),children:["#",e]})},{title:D(k),is_show:!0,dataIndex:"user",key:"user",render:(e,o)=>{const t=null===o||void 0===o?void 0:o.user;return(0,b.jsxs)("div",{children:[null===t||void 0===t?void 0:t.firstname," ",(null===t||void 0===t?void 0:t.lastname)||""]})}},{title:D("order.total_price"),is_show:!0,dataIndex:"transaction",key:"transaction",render:(e,o)=>{var t;null===e||void 0===e||e.status;return(0,b.jsx)("span",{children:(0,p.A)(null===o||void 0===o||null===(t=o.order)||void 0===t?void 0:t.total_price,C.symbol)})}},..."seller"===k?[{title:D("coupon.price"),is_show:!0,dataIndex:"coupon_sum_price",key:"coupon_sum_price",render:(e,o)=>{var t;return(0,p.A)(null===o||void 0===o||null===(t=o.order)||void 0===t?void 0:t.coupon_sum_price,C.symbol)}}]:[],..."seller"===k?[{title:D("total.cashback"),is_show:!0,dataIndex:"point_history_sum_price",key:"point_history_sum_price",render:(e,o)=>{var t;return(0,p.A)(null===o||void 0===o||null===(t=o.order)||void 0===t?void 0:t.point_history_sum_price,C.symbol)}}]:[],{title:D("delivery.fee"),is_show:!0,dataIndex:"delivery_fee",key:"delivery_fee",render:(e,o)=>{var t;return(0,p.A)(null===o||void 0===o||null===(t=o.order)||void 0===t?void 0:t.delivery_fee,C.symbol)}},..."seller"===k?[{title:D("service.fee"),is_show:!0,dataIndex:"service_fee",key:"service_fee",render:(e,o)=>{var t;return(0,p.A)((null===o||void 0===o||null===(t=o.order)||void 0===t?void 0:t.service_fee)||0,C.symbol)}}]:[],..."seller"===k?[{title:D("commission.fee"),is_show:!0,dataIndex:"commission_fee",key:"commission_fee",render:(e,o)=>(0,p.A)((null===o||void 0===o?void 0:o.order.commission_fee)||0,C.symbol)}]:[],..."seller"===k?[{title:D("seller.fee"),is_show:!0,dataIndex:"seller_fee",key:"seller_fee",render:(e,o)=>{var t;return(0,p.A)(null===o||void 0===o||null===(t=o.order)||void 0===t?void 0:t.seller_fee,C.symbol)}}]:[],{title:D("payment.type"),is_show:!0,dataIndex:"transaction",key:"transaction",render:e=>{var o;return D(null===e||void 0===e||null===(o=e.payment_system)||void 0===o?void 0:o.tag)||"-"}}],{activeMenu:S}=(0,s.d4)((e=>e.menu),s.bN),[O,N]=(0,r.useState)(y()().subtract(1,"month"),y()()),{completedList:P,loading:F,params:z,meta:G}=(0,s.d4)((e=>e.paymentToPartners),s.bN),L=S.data,E={search:null===L||void 0===L?void 0:L.search,sort:null===L||void 0===L?void 0:L.sort,column:null===L||void 0===L?void 0:L.column,perPage:null===L||void 0===L?void 0:L.perPage,page:null===L||void 0===L?void 0:L.page,user_id:null===L||void 0===L?void 0:L.user_id,shop_id:null!==(null===(e=S.data)||void 0===e?void 0:e.shop_id)?null===(o=S.data)||void 0===o?void 0:o.shop_id:null,date_from:Array.isArray(O)?null===(t=O[0])||void 0===t?void 0:t.format("YYYY-MM-DD"):y()().subtract(1,"month").format("YYYY-MM-DD"),date_to:Array.isArray(O)?null===(l=O[1])||void 0===l?void 0:l.format("YYYY-MM-DD"):y()().format("YYYY-MM-DD"),type:k};(0,v.A)((()=>{M((0,x.eL)(E))}),[L,O,k]);const T=(e,o)=>{M((0,u.Ok)({activeMenu:S,data:{...L,[o]:e}}))};return(0,r.useEffect)((()=>{null!==S&&void 0!==S&&S.refetch&&(M((0,x.eL)(E)),M((0,u.km)(S)))}),[null===S||void 0===S?void 0:S.refetch]),(0,r.useEffect)((()=>()=>{M((0,u.Ok)({activeMenu:S,data:{}}))}),[]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.A,{children:(0,b.jsx)("div",{className:"flex justify-content-space-between",children:(0,b.jsxs)(i.A,{wrap:!0,className:"order-filter",style:{flex:1,width:"100%"},children:[(0,b.jsx)(_.G,{placeholder:D("select.shop"),fetchOptions:async function(e){const o={search:e,status:"approved"};return g.A.getAll(o).then((e=>{let{data:o}=e;return o.map((e=>{var o;return{label:null===(o=e.translation)||void 0===o?void 0:o.title,value:e.id}}))}))},style:{width:"100%"},onSelect:e=>T(e.value,"shop_id"),onDeselect:()=>T(null,"shop_id"),allowClear:!0,value:null===L||void 0===L?void 0:L.shop_id}),(0,b.jsx)(_.G,{placeholder:D("select.user"),fetchOptions:async function(e){const o={search:e,perPage:10,role:k};return m.A.search(o).then((e=>{let{data:o}=e;return o.map((e=>({label:"".concat(e.firstname," ").concat(e.lastname),value:e.id})))}))},onSelect:e=>T(e.value,"user_id"),onDeselect:()=>T(null,"user_id"),style:{width:"100%"},value:null===L||void 0===L?void 0:L.user_id}),(0,b.jsx)(A,{value:O,onChange:e=>{T((o=>{var t,r;return{...o,date_from:null===e||void 0===e||null===(t=e[0])||void 0===t?void 0:t.format("YYYY-MM-DD"),date_to:null===e||void 0===e||null===(r=e[1])||void 0===r?void 0:r.format("YYYY-MM-DD")}})),N(e)},disabledDate:e=>e&&e>y()().endOf("day"),style:{width:"100%"}})]})})}),(0,b.jsx)(n.A,{children:(0,b.jsx)(d.A,{scroll:{x:!0},columns:null===I||void 0===I?void 0:I.filter((e=>e.is_show)),dataSource:P,loading:F,pagination:{pageSize:z.perPage,page:(null===(f=S.data)||void 0===f?void 0:f.page)||1,total:null===G||void 0===G?void 0:G.total,defaultCurrent:null===(w=S.data)||void 0===w?void 0:w.page,current:null===(Y=S.data)||void 0===Y?void 0:Y.page},rowKey:e=>e.id,onChange:function(e,o,t){const{pageSize:r,current:l}=e,{field:n,order:i}=t,d=(0,h.A)(i);M((0,u.Ok)({activeMenu:S,data:{...L,perPage:r,page:l,column:n,sort:d}}))}})})]})}}}]);