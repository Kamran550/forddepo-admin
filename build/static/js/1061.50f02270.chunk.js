"use strict";(self.webpackChunkgithubit_dashboard=self.webpackChunkgithubit_dashboard||[]).push([[1061],{61061:(t,e,i)=>{i.r(e),i.d(e,{default:()=>_});var a=i(9950),n=i(28429),s=i(49348),l=i(86366),c=i(59233),o=i(23263),d=i(91854),r=i(74623),u=i(70030),v=i(71999),m=i(69292),g=i(64986),p=i(44414);const{Step:h}=l.A,_=()=>{var t,e,i;const{t:_}=(0,u.B)(),{activeMenu:x}=(0,d.d4)((t=>t.menu),d.bN),k=(0,d.wA)(),[f]=c.A.useForm(),A=(0,n.Zp)(),[S,b]=(0,a.useState)(null!==(t=x.data)&&void 0!==t&&t.image?[null===(e=x.data)||void 0===e?void 0:e.image]:[]),[j,y]=(0,a.useState)((null===(i=x.data)||void 0===i?void 0:i.step)||0),w=()=>{y(j+1)},C=()=>{y(j-1)},[F,q]=(0,a.useState)(!1);(0,a.useEffect)((()=>()=>{const t=f.getFieldsValue(!0);k((0,r.Ok)({activeMenu:x,data:t}))}),[]);return(0,p.jsx)(o.A,{title:_("add.recepe"),extra:(0,p.jsx)(v.A,{}),children:(0,p.jsxs)(c.A,{layout:"vertical",onFinish:t=>{var e,i;f.validateFields();const a={...t,total_time:t.total_time.toString(),active_time:t.active_time.toString(),images:null===S||void 0===S?void 0:S.map((t=>t.name)),category_id:t.category_id.value,stocks:null===(e=t.stocks)||void 0===e?void 0:e.map((t=>({min_quantity:t.min_quantity,stock_id:t.stock_id.value}))),nutrition:null===(i=t.nutrition)||void 0===i?void 0:i.map((t=>({...t,percentage:t.percentage.toString(),weight:t.weight.toString()})))};q(!0);const n="seller/recept";m.A.create(a).then((()=>{s.oR.success(_("successfully.created")),A("/".concat(n)),k((0,r.EK)({...x,nextUrl:n}))})).finally((()=>q(!1)))},form:f,initialValues:{active:!0,...x.data},children:[(0,p.jsx)(l.A,{current:j,children:g.C.map((t=>(0,p.jsx)(h,{title:_(t.title)},t.title)))}),g.C.map((t=>{const e=t.content;return(0,p.jsx)("div",{className:"steps-content ".concat(t.step!==j+1&&"hidden"),children:(0,p.jsx)(e,{next:w,prev:C,loading:F,image:S,setImage:b})},t.title)}))]})})}}}]);